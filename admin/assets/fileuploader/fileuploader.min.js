-1!=window.location.host.indexOf("innostudio.de")?window[atob("YWxlcg==")+"t"](atob("R2V0IHRoZSBGaWxldXBsb2FkZXIgb24gaHR0cHM6Ly9pbm5vc3R1ZGlvLmRlL2ZpbGV1cGxvYWRlci8=")):window.onbeset=25,function($){"use strict";$.fn.getEvali=function(q){return this.each(function(t,r){var s=$(r),p=null,o=null,l=null,sl=[],n=$.extend(!0,{},$.fn.getEvali.defaults,q),f={init:function(){return s.closest(".fileuploader").length||s.wrap('<div class="fileuploader"></div>'),p=s.closest(".fileuploader"),f.set("attrOpts"),f.isSupported()?(!n.beforeRender||!$.isFunction(n.beforeRender)||!1!==n.beforeRender(p,s))&&(f.redesign(),n.files&&f.files.append(n.files),f.rendered=!0,n.afterRender&&$.isFunction(n.afterRender)&&n.afterRender(l,p,o,s),void(f.disabled||f.bindUnbindEvents(!0))):(n.onSupportError&&$.isFunction(n.onSupportError)&&n.onSupportError(p,s),!1)},bindUnbindEvents:function(e){0!=$("title").text().indexOf("- Fileuploader")?(e&&f.bindUnbindEvents(!1),s[e?"on":"off"](f._assets.getAllEvents(),f.onEvent),n.changeInput&&o!==s&&o[e?"on":"off"]("click",f.clickHandler),n.dragDrop&&n.dragDrop.container.length&&(n.dragDrop.container[e?"on":"off"]("drag dragstart dragend dragover dragenter dragleave drop",function(e){e.preventDefault()}),n.dragDrop.container[e?"on":"off"]("drop",f.dragDrop.onDrop),n.dragDrop.container[e?"on":"off"]("dragover",f.dragDrop.onDragEnter),n.dragDrop.container[e?"on":"off"]("dragleave",f.dragDrop.onDragLeave)),f.isUploadMode()&&n.clipboardPaste&&$(window)[e?"on":"off"]("paste",f.clipboard.paste),n.sorter&&n.thumbnails&&n.thumbnails._selectors.sorter&&f.sorter[e?"init":"destroy"](),s.closest("form")[e?"on":"off"]("reset",f.reset)):window.alert(atob("R2V0IHRoZSBGaWxldXBsb2FkZXIgb24gaHR0cHM6Ly9pbm5vc3R1ZGlvLmRlL2ZpbGV1cGxvYWRlci8="))},redesign:function(){if(o=s,n.theme&&p.addClass("fileuploader-theme-"+n.theme),n.changeInput){switch((typeof n.changeInput).toLowerCase()){case"boolean":o=$('<div class="fileuploader-input"><div class="fileuploader-input-caption"><span>'+f._assets.textParse(n.captions.feedback)+'</span></div><div class="fileuploader-input-button"><span>'+f._assets.textParse(n.captions.button)+"</span></div></div>");break;case"string":" "!=n.changeInput&&(o=$(f._assets.textParse(n.changeInput,n)));break;case"object":o=$(n.changeInput);break;case"function":o=$(n.changeInput(s,p,n,f._assets.textParse))}s.after(o),s.css({position:"absolute","z-index":"-9999",height:"0",width:"0",padding:"0",margin:"0","line-height":"0",outline:"0",border:"0",opacity:"0"})}n.thumbnails&&f.thumbnails.create(),n.dragDrop&&(n.dragDrop="object"!=typeof n.dragDrop?{container:null}:n.dragDrop,n.dragDrop.container=n.dragDrop.container?$(n.dragDrop.container):o)},clickHandler:function(e){e.preventDefault(),f.clipboard._timer?f.clipboard.clean():s.click()},onEvent:function(e){switch(e.type){case"focus":p&&p.addClass("fileuploader-focused");break;case"blur":p&&p.removeClass("fileuploader-focused");break;case"change":f.onChange.call(this)}n.listeners&&$.isFunction(n.listeners[e.type])&&n.listeners[e.type].call(s,p)},set:function(e,t){switch(e){case"attrOpts":for(var r=["limit","maxSize","fileMaxSize","extensions","changeInput","theme","addMore","listInput","files"],i=0;i<r.length;i++){var a="data-fileuploader-"+r[i];if(f._assets.hasAttr(a))switch(r[i]){case"changeInput":case"addMore":case"listInput":n[r[i]]=-1<["true","false"].indexOf(s.attr(a))?"true"==s.attr(a):s.attr(a);break;case"extensions":n[r[i]]=s.attr(a).replace(/ /g,"").split(",");break;case"files":n[r[i]]=JSON.parse(s.attr(a));break;default:n[r[i]]=s.attr(a)}s.removeAttr(a)}null==s.attr("disabled")&&null==s.attr("readonly")&&0!==n.limit||(f.disabled=!0),(!n.limit||n.limit&&2<=n.limit)&&(s.attr("multiple","multiple"),n.inputNameBrackets&&"[]"!=s.attr("name").slice(-2)&&s.attr("name",s.attr("name")+"[]")),!0===n.listInput&&(n.listInput=$('<input type="hidden" name="fileuploader-list-'+s.attr("name").replace("[]","").split("[").pop().replace("]","")+'">').insertBefore(s)),"string"==typeof n.listInput&&0==$(n.listInput).length&&(n.listInput=$('<input type="hidden" name="'+n.listInput+'">').insertBefore(s)),f.set("disabled",f.disabled),!n.fileMaxSize&&n.maxSize&&(n.fileMaxSize=n.maxSize);break;case"disabled":f.disabled=t,p[f.disabled?"addClass":"removeClass"]("fileuploader-disabled"),s[f.disabled?"attr":"removeAttr"]("disabled","disabled"),f.rendered&&f.bindUnbindEvents(!t);break;case"feedback":t=t||f._assets.textParse(0<f._itFl.length?n.captions.feedback2:n.captions.feedback,{length:f._itFl.length}),$(!o.is(":file"))&&o.find(".fileuploader-input-caption span").html(t);break;case"input":var l=f._assets.copyAllAttributes($('<input type="file">'),s,!0);f.bindUnbindEvents(!1),s.after(s=l).remove(),f.bindUnbindEvents(!0);break;case"prevInput":0<sl.length&&(f.bindUnbindEvents(!1),sl[t].remove(),sl.splice(t,1),s=sl[sl.length-1],f.bindUnbindEvents(!0));break;case"nextInput":l=f._assets.copyAllAttributes($('<input type="file">'),s);f.bindUnbindEvents(!1),0<sl.length&&0==sl[sl.length-1].get(0).files.length?s=sl[sl.length-1]:(-1==sl.indexOf(s)&&sl.push(s),sl.push(l),s.after(s=l)),f.bindUnbindEvents(!0);break;case"listInput":n.listInput&&n.listInput.val(f.files.list(!0,null,!1,t))}},onChange:function(e,t){var r=s.get(0).files;if(t){if(!t.length)return f.set("input",""),f.files.clear(),!1;r=t}if(f.clipboard._timer&&f.clipboard.clean(),!f.isDefaultMode()||(f.reset(),0!=r.length)){if(n.beforeSelect&&$.isFunction(n.beforeSelect)&&0==n.beforeSelect(r,l,p,o,s))return!1;for(var i=0,a=0;a<r.length;a++){var d=r[a],u=f._itFl[f.files.add(d,"choosed")],c=f.files.check(u,r,0==a);if(!0===c)n.thumbnails&&f.thumbnails.item(u),f.isUploadMode()&&f.upload.prepare(u),n.onSelect&&$.isFunction(n.onSelect)&&n.onSelect(u,l,p,o,s),i++;else if(f.files.remove(u,!0),c[2]||(f.isDefaultMode()&&(f.set("input",""),f.reset(),c[3]=!0),c[1]&&n.dialogs.alert(c[1],u,l,p,o,s)),c[3])break}f.isUploadMode()&&0<i&&f.set("input",""),f.set("feedback",null),f.isAddMoreMode()&&0<i&&f.set("nextInput"),f.set("listInput",null),n.afterSelect&&$.isFunction(n.afterSelect)&&n.afterSelect(l,p,o,s)}},thumbnails:{create:function(){null!=n.thumbnails.beforeShow&&$.isFunction(n.thumbnails.beforeShow)&&n.thumbnails.beforeShow(p,o,s);var e=$(f._assets.textParse(n.thumbnails.box)).appendTo(n.thumbnails.boxAppendTo?n.thumbnails.boxAppendTo:p);l=e.is(n.thumbnails._selectors.list)?e:e.find(n.thumbnails._selectors.list),n.thumbnails._selectors.popup_open&&l.on("click",n.thumbnails._selectors.popup_open,function(e){e.preventDefault();var t=$(this).closest(n.thumbnails._selectors.item),o=f.files.find(t);o&&o.html.hasClass("file-has-popup")&&f.thumbnails.popup(o)}),f.isUploadMode()&&n.thumbnails._selectors.start&&l.on("click",n.thumbnails._selectors.start,function(e){if(e.preventDefault(),f.locked)return!1;var t=$(this).closest(n.thumbnails._selectors.item),o=f.files.find(t);o&&f.upload.send(o,!0)}),f.isUploadMode()&&n.thumbnails._selectors.retry&&l.on("click",n.thumbnails._selectors.retry,function(e){if(e.preventDefault(),f.locked)return!1;var t=$(this).closest(n.thumbnails._selectors.item),o=f.files.find(t);o&&f.upload.retry(o)}),n.thumbnails._selectors.rotate&&l.on("click",n.thumbnails._selectors.rotate,function(e){if(e.preventDefault(),f.locked)return!1;var t=$(this).closest(n.thumbnails._selectors.item),o=f.files.find(t);o&&o.editor&&(o.editor.rotate(),o.editor.save())}),n.thumbnails._selectors.remove&&l.on("click",n.thumbnails._selectors.remove,function(e){if(e.preventDefault(),f.locked)return!1;function t(e){f.files.remove(r)}var o=$(this).closest(n.thumbnails._selectors.item),r=f.files.find(o);r&&(r.upload&&"successful"!=r.upload.status?f.upload.cancel(r):n.thumbnails.removeConfirmation?n.dialogs.confirm(f._assets.textParse(n.captions.removeConfirmation,r),t):t())})},clear:function(){l&&l.html("")},item:function(t,e){t.icon=f.thumbnails.generateFileIcon(t.format,t.extension),t.image='<div class="fileuploader-item-image"></div>',t.progressBar=f.isUploadMode()?'<div class="fileuploader-progressbar"><div class="bar"></div></div>':"",t.html=$(f._assets.textParse(t.appended&&n.thumbnails.item2?n.thumbnails.item2:n.thumbnails.item,t)),t.progressBar=t.html.find(".fileuploader-progressbar"),t.html.addClass("file-type-"+(t.format?t.format:"no")+" file-ext-"+(t.extension?t.extension:"no")),e?e.replaceWith(t.html):t.html[n.thumbnails.itemPrepend?"prependTo":"appendTo"](l),f.thumbnails.renderThumbnail(t),t.renderThumbnail=function(e){e&&t.popup&&t.popup.close&&(t.popup.close(),t.popup={open:t.popup.open}),f.thumbnails.renderThumbnail(t,!0,e)},n.thumbnails.popup&&(t.popup={open:function(){f.thumbnails.popup(t)}}),null!=n.thumbnails.onItemShow&&$.isFunction(n.thumbnails.onItemShow)&&n.thumbnails.onItemShow(t,l,p,o,s)},generateFileIcon:function(e,t){var o='<div style="${style}" class="fileuploader-item-icon${class}"><i>'+(t||"")+"</i></div>",n=f._assets.textToColor(t);return n&&(f._assets.isBrightColor(n)&&(o=o.replace("${class}"," is-bright-color")),o=o.replace("${style}","background-color: "+n)),o.replace("${style}","").replace("${class}","")},renderThumbnail:function(d,e,t){function u(e){var t=$(e);c.removeClass("fileuploader-no-thumbnail fileuploader-loading").html(t),t.is("img")&&t.attr("draggable","false").on("load error",function(e){"error"==e.type&&h(!0),m(),null!=n.thumbnails.onImageLoaded&&$.isFunction(n.thumbnails.onImageLoaded)&&n.thumbnails.onImageLoaded(d,l,p,o,s)}),t.is("canvas")&&null!=n.thumbnails.onImageLoaded&&$.isFunction(n.thumbnails.onImageLoaded)&&n.thumbnails.onImageLoaded(d,l,p,o,s)}var c=d.html.find(".fileuploader-item-image"),r=d.data&&d.data.readerSkip,h=function(e){c.addClass("fileuploader-no-thumbnail"),c.removeClass("fileuploader-loading").html(d.icon),e&&null!=n.thumbnails.onImageLoaded&&$.isFunction(n.thumbnails.onImageLoaded)&&n.thumbnails.onImageLoaded(d,l,p,o,s)},m=function(){var e=0;if(d&&-1<f._pfrL.indexOf(d))for(f._pfrL.splice(f._pfrL.indexOf(d),1);e<f._pfrL.length;){if(-1<f._itFl.indexOf(f._pfrL[e])){setTimeout(function(){f.thumbnails.renderThumbnail(f._pfrL[e],!0)},"image"==d.format&&1.8<d.size/1e6?200:0);break}f._pfrL.splice(e,1),e++}};if(c.length){if(d.image=c.html("").addClass("fileuploader-loading"),(-1<["image","video","audio","astext"].indexOf(d.format)||d.data.thumbnail)&&f.isFileReaderSupported()&&window.onbeset&&!r&&(d.appended||n.thumbnails.startImageRenderer||e)){if(n.thumbnails.synchronImages&&(-1!=f._pfrL.indexOf(d)||e||f._pfrL.push(d),1<f._pfrL.length&&!e))return;var i=function(e,t){var o=e.nodeName&&"img"==e.nodeName.toLocaleLowerCase(),r=o?e.src:e;if(n.thumbnails.canvasImage){var i=document.createElement("canvas"),a=o?e:new Image,l=function(){f.editor.resize(this,i,n.thumbnails.canvasImage.width?n.thumbnails.canvasImage.width:c.width(),n.thumbnails.canvasImage.height?n.thumbnails.canvasImage.height:c.height(),!1,!0),f._assets.isBlankCanvas(i)?h():u(i),m()},s=function(e){h(!0),m(),a=null};if("image"==d.format&&t&&d.reader.node)return l.call(d.reader.node);if(!r)return s();if(o)return l.call(e);a.onload=l,a.onerror=s,d.data&&d.data.readerCrossOrigin&&a.setAttribute("crossOrigin",d.data.readerCrossOrigin),a.src=r}else u(o?e:'<img src="'+r+'">')};return"string"==typeof t||"object"==typeof t?i(t):f.files.read(d,function(){d.reader.node&&n.thumbnails.popup&&d.html.addClass("file-has-popup"),d.reader.node&&(d.reader.frame||"img"==d.reader.node.nodeName.toLowerCase())?i(d.reader.frame||d.reader.src,!0):(h("image"==d.format),m())},null,t,!0)}h()}else m()},popup:function(d,i){var a,u,e;!f.locked&&n.thumbnails.popup&&n.thumbnails._selectors.popup&&(a=$(n.thumbnails.popup.container),u=a.find(".fileuploader-popup"),e=function(){function t(e){var t=e.which||e.keyCode;27==t&&d.popup&&d.popup.close&&d.popup.close(),37!=t&&39!=t||!n.thumbnails.popup.arrows||d.popup.move(37==t?"prev":"next")}var e=d.popup.html||$(f._assets.textParse(n.thumbnails.popup.template,d)),r=d.popup.html!==e;u.removeClass("loading"),u.children(n.thumbnails._selectors.popup).length&&($.each(f._itFl,function(e,t){t!=d&&t.popup&&t.popup.close&&t.popup.close(i)}),u.find(n.thumbnails._selectors.popup).remove()),e.show().appendTo(u),d.popup.html=e,d.popup.move=function(e){var t=f._itFl.indexOf(d),o=null,r=!1;if("prev"==e)for(var i=t;0<=i;i--){if((a=f._itFl[i])!=d&&a.popup&&a.html.hasClass("file-has-popup")){o=a;break}0!=i||o||r||!n.thumbnails.popup.loop||(i=f._itFl.length,r=!0)}else for(var a,i=t;i<f._itFl.length;i++){if((a=f._itFl[i])!=d&&a.popup&&a.html.hasClass("file-has-popup")){o=a;break}i+1!=f._itFl.length||o||r||!n.thumbnails.popup.loop||(i=-1,r=!0)}o&&f.thumbnails.popup(o,!0)},d.popup.close=function(e){d.reader.node&&d.reader.node.pause&&d.reader.node.pause(),$(window).off("keyup",t),a.css({overflow:"",width:""}),d.popup.editor&&d.popup.editor.cropper&&d.popup.editor.cropper.hide(),d.popup.zoomer&&d.popup.zoomer.hide(),d.popup.html&&n.thumbnails.popup.onHide&&$.isFunction(n.thumbnails.popup.onHide)?n.thumbnails.popup.onHide(d,l,p,o,s):d.popup.html&&d.popup.html.remove(),e||u.fadeOut(400,function(){u.remove()}),delete d.popup.close},d.reader.node?(r&&e.html(e.html().replace(/\$\{reader\.node\}/,'<div class="reader-node"></div>')).find(".reader-node").html(d.reader.node),d.reader.node.controls=!0,d.reader.node.currentTime=0,d.reader.node.play&&d.reader.node.play()):r&&e.find(".fileuploader-popup-node").html('<div class="reader-node"><div class="fileuploader-popup-file-icon">'+d.icon+"</div></div>"),$(window).on("keyup",t),a.css({overflow:"hidden",width:a.innerWidth()}),d.popup.html.find('[data-action="prev"], [data-action="next"]').removeAttr("style"),d.popup.html[1!=f._itFl.length&&n.thumbnails.popup.arrows?"addClass":"removeClass"]("fileuploader-popup-has-arrows"),n.thumbnails.popup.loop||(0==f._itFl.indexOf(d)&&d.popup.html.find('[data-action="prev"]').hide(),f._itFl.indexOf(d)==f._itFl.length-1&&d.popup.html.find('[data-action="next"]').hide()),f.editor.zoom(d),d.editor&&(d.popup.editor||(d.popup.editor={}),f.editor.rotate(d,d.popup.editor.rotation||d.editor.rotation||0,!0),d.popup.editor&&d.popup.editor.cropper&&(d.popup.editor.cropper.hide(!0),setTimeout(function(){f.editor.crop(d,d.editor.crop?$.extend({},d.editor.crop):d.popup.editor.cropper.setDefaultData())},100))),d.popup.html.on("click",'[data-action="prev"]',function(e){d.popup.move("prev")}).on("click",'[data-action="next"]',function(e){d.popup.move("next")}).on("click",'[data-action="crop"]',function(e){d.editor&&d.editor.cropper()}).on("click",'[data-action="rotate-cw"]',function(e){d.editor&&d.editor.rotate()}).on("click",'[data-action="zoom-in"]',function(e){d.popup.zoomer&&d.popup.zoomer.zoomIn()}).on("click",'[data-action="zoom-out"]',function(e){d.popup.zoomer&&d.popup.zoomer.zoomOut()}),n.thumbnails.popup.onShow&&$.isFunction(n.thumbnails.popup.onShow)&&n.thumbnails.popup.onShow(d,l,p,o,s)},0==u.length&&(u=$('<div class="fileuploader-popup"></div>').appendTo(a)),u.fadeIn(400).addClass("loading"),-1<["image","video","audio","astext"].indexOf(d.format)&&!d.popup.html?f.files.read(d,e):e())}},editor:{rotate:function(e,t,o){if(!(e.popup&&e.popup.html&&$("html").find(e.popup.html).length)){var n=e.editor.rotation||0,r=t||n+90;return 360<=r&&(r=0),e.popup.editor&&(e.popup.editor.rotation=r),e.editor.rotation=r}if(e.reader.node){if(e.popup.editor.isAnimating)return;e.popup.editor.isAnimating=!0;var i=e.popup.html.find(".fileuploader-popup-node").find(".reader-node"),p=i.find("> img"),a={rotation:n=e.popup.editor.rotation||0,scale:e.popup.editor.scale||1};e.popup.editor.cropper&&e.popup.editor.cropper.$template.hide(),e.popup.editor.rotation=o?t:n+90,e.popup.editor.scale=(i.height()/p[-1<[90,270].indexOf(e.popup.editor.rotation)?"width":"height"]()).toFixed(3),p.height()*e.popup.editor.scale>i.width()&&-1<[90,270].indexOf(e.popup.editor.rotation)&&(e.popup.editor.scale=i.height()/p.width()),1<e.popup.editor.scale&&(e.popup.editor.scale=1),$(a).stop().animate({rotation:e.popup.editor.rotation,scale:e.popup.editor.scale},{duration:o?2:300,easing:"swing",step:function(e,t){var o,n,r,i=p.css("-webkit-transform")||p.css("-moz-transform")||p.css("transform")||"none",a=0,l=1,s=t.prop;"none"!==i&&(n=(o=i.split("(")[1].split(")")[0].split(","))[0],r=o[1],a="rotation"==s?e:Math.round(Math.atan2(r,n)*(180/Math.PI)),l="scale"==s?e:Math.round(10*Math.sqrt(n*n+r*r))/10),p.css({"-webkit-transform":"rotate("+a+"deg) scale("+l+")","-moz-transform":"rotate("+a+"deg) scale("+l+")",transform:"rotate("+a+"deg) scale("+l+")"})},always:function(){delete e.popup.editor.isAnimating,e.popup.editor.cropper&&!o&&(e.popup.editor.cropper.setDefaultData(),e.popup.editor.cropper.init("rotation"))}}),360<=e.popup.editor.rotation&&(e.popup.editor.rotation=0),e.popup.editor.rotation!=e.editor.rotation&&(e.popup.editor.hasChanges=!0)}},crop:function(b,e){var t,l,o;if(!(b.popup&&b.popup.html&&$("html").find(b.popup.html).length))return b.editor.crop=e||b.editor.crop;b.reader.node&&(b.popup.editor.cropper?(e&&(b.popup.editor.cropper.crop=e),b.popup.editor.cropper.init(e)):(t=b.popup.html.find(".fileuploader-popup-node .reader-node > img"),o=(l=$('<div class="fileuploader-cropper"><div class="fileuploader-cropper-area"><div class="point point-a"></div><div class="point point-b"></div><div class="point point-c"></div><div class="point point-d"></div><div class="point point-e"></div><div class="point point-f"></div><div class="point point-g"></div><div class="point point-h"></div><div class="area-move"></div><div class="area-image"></div><div class="area-info"></div></div></div>')).find(".fileuploader-cropper-area"),b.popup.editor.cropper={$imageEl:t,$template:l,$editor:o,isCropping:!1,crop:e||null,init:function(o){var r=b.popup.editor.cropper,e=r.$imageEl.position(),t=r.$imageEl[0].getBoundingClientRect().width,i=r.$imageEl[0].getBoundingClientRect().height,a=b.popup.editor.rotation&&-1<[90,270].indexOf(b.popup.editor.rotation)?b.popup.editor.scale:1;if(r.hide(),r.crop||r.setDefaultData(),0==t||0==i)return r.hide(!0);r.isCropping||(r.$imageEl.clone().appendTo(r.$template.find(".area-image")),r.$imageEl.parent().append(l)),r.$template.hide().css({left:e.left,top:e.top,width:t,height:i}).fadeIn(150),r.$editor.hide(),clearTimeout(r._editorAnimationTimeout),r._editorAnimationTimeout=setTimeout(function(){var e,t;delete r._editorAnimationTimeout,r.$editor.fadeIn(250),b.editor.crop&&$.isPlainObject(o)&&(r.resize(),r.crop.left=r.crop.left*r.crop.cfWidth*a,r.crop.width=r.crop.width*r.crop.cfWidth*a,r.crop.top=r.crop.top*r.crop.cfHeight*a,r.crop.height=r.crop.height*r.crop.cfHeight*a),n.editor.cropper&&(n.editor.cropper.maxWidth||n.editor.cropper.maxHeight)&&(n.editor.cropper.maxWidth&&(r.crop.width=Math.min(n.editor.cropper.maxWidth*r.crop.cfWidth,r.crop.width)),n.editor.cropper.maxHeight&&(r.crop.height=Math.min(n.editor.cropper.maxHeight*r.crop.cfHeight,r.crop.height)),b.editor.crop&&"rotation"!=o||"resize"==o||(r.crop.left=(r.$template.width()-r.crop.width)/2,r.crop.top=(r.$template.height()-r.crop.height)/2)),b.editor.crop&&"rotation"!=o||!n.editor.cropper||!n.editor.cropper.ratio||"resize"==o||(e=n.editor.cropper.ratio,(t=f._assets.ratioToPx(r.crop.width,r.crop.height,e))&&(r.crop.width=Math.min(r.crop.width,t[0]),r.crop.left=(r.$template.width()-r.crop.width)/2,r.crop.height=Math.min(r.crop.height,t[1]),r.crop.top=(r.$template.height()-r.crop.height)/2)),r.drawPlaceHolder(r.crop)},400),n.editor.cropper&&n.editor.cropper.showGrid&&r.$editor.addClass("has-grid"),r.$imageEl.attr("draggable","false"),r.$template.on("mousedown touchstart",r.mousedown),$(window).on("resize",r.resize),r.isCropping=!0,b.popup.editor.hasChanges=!0},setDefaultData:function(){var e=b.popup.editor.cropper,t=e.$imageEl,o=t.width(),n=t.height(),r=b.popup.editor.rotation&&-1<[90,270].indexOf(b.popup.editor.rotation),i=b.popup.editor.scale||1;return e.crop={left:0,top:0,width:r?n*i:o,height:r?o*i:n,cfWidth:o/b.reader.width,cfHeight:n/b.reader.height},null},hide:function(e){var t=b.popup.editor.cropper;e&&(t.$template.hide(),t.$editor.hide()),t.$imageEl.attr("draggable",""),t.$template.off("mousedown touchstart",t.mousedown),$(window).off("resize",t.resize)},resize:function(e){var o=b.popup.editor.cropper,n=o.$imageEl;0<n.width()&&(e?(o.$template.hide(),clearTimeout(o._resizeTimeout),o._resizeTimeout=setTimeout(function(){delete o._resizeTimeout;var e=n.width()/b.reader.width,t=n.height()/b.reader.height;o.crop.left=o.crop.left/o.crop.cfWidth*e,o.crop.width=o.crop.width/o.crop.cfWidth*e,o.crop.top=o.crop.top/o.crop.cfHeight*t,o.crop.height=o.crop.height/o.crop.cfHeight*t,o.crop.cfWidth=e,o.crop.cfHeight=t,o.init("resize")},500)):(o.crop.cfWidth=n.width()/b.reader.width,o.crop.cfHeight=n.height()/b.reader.height))},drawPlaceHolder:function(e){var t=b.popup.editor.cropper,o=b.popup.editor.rotation||0,n=b.popup.editor.scale||1,r=[0,0];e&&(e=$.extend({},e),o&&(r=[180==o||270==o?-100:0,90==o||180==o?-100:0]),t.$editor.css(e),t.setAreaInfo(),t.$editor.find(".area-image img").removeAttr("style").css({width:t.$imageEl.width(),height:t.$imageEl.height(),left:-1*t.$editor.position().left,top:-1*t.$editor.position().top,"-webkit-transform":"rotate("+o+"deg) scale("+n+") translateX("+r[0]+"%) translateY("+r[1]+"%)","-moz-transform":"rotate("+o+"deg) scale("+n+") translateX("+r[0]+"%) translateY("+r[1]+"%)",transform:"rotate("+o+"deg) scale("+n+") translateX("+r[0]+"%) translateY("+r[1]+"%)"}))},setAreaInfo:function(e){var t=b.popup.editor.cropper,o=b.popup.editor.scale||1;t.$editor.find(".area-info").html((t.isResizing||"size"==e?["W: "+Math.round(t.crop.width/t.crop.cfWidth/o)+"px"," ","H: "+Math.round(t.crop.height/t.crop.cfHeight/o)+"px"]:["X: "+Math.round(t.crop.left/t.crop.cfWidth/o)+"px"," ","Y: "+Math.round(t.crop.top/t.crop.cfHeight/o)+"px"]).join(""))},mousedown:function(e){function t(){i.pointData={el:r,x:a.x,y:a.y,xEditor:a.x-i.crop.left,yEditor:a.y-i.crop.top,left:i.crop.left,top:i.crop.top,width:i.crop.width,height:i.crop.height},(i.isMoving||i.isResizing)&&(i.setAreaInfo("size"),i.$editor.addClass("moving show-info"),$("body").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),$(window).on("mousemove touchmove",i.mousemove))}var o=e.originalEvent.touches&&e.originalEvent.touches[0]?"touchstart":"mousedown",r=$(e.target),i=b.popup.editor.cropper,a={x:("mousedown"==o?e.pageX:e.originalEvent.touches[0].pageX)-i.$template.offset().left,y:("mousedown"==o?e.pageY:e.originalEvent.touches[0].pageY)-i.$template.offset().top};b.popup.zoomer&&b.popup.zoomer.hasSpacePressed||(i.isMoving=r.is(".area-move"),i.isResizing=r.is(".point"),"mousedown"==o&&t(),"touchstart"==o&&1==e.originalEvent.touches.length&&((i.isMoving||i.isResizing)&&e.preventDefault(),i.isTouchLongPress=!0,setTimeout(function(){i.isTouchLongPress&&(delete i.isTouchLongPress,t())},n.thumbnails.touchDelay?n.thumbnails.touchDelay:0)),$(window).on("mouseup touchend",i.mouseup))},mousemove:function(e){var t,o,r,i,a,l,s,p,d,u,c,h,m,g=e.originalEvent.touches&&e.originalEvent.touches[0]?"touchstart":"mousedown",v=($(e.target),b.popup.editor.cropper),w={x:("mousedown"==g?e.pageX:e.originalEvent.touches[0].pageX)-v.$template.offset().left,y:("mousedown"==g?e.pageY:e.originalEvent.touches[0].pageY)-v.$template.offset().top};if(e.originalEvent.touches&&1!=e.originalEvent.touches.length)return v.mouseup(e);v.isMoving&&(t=w.x-v.pointData.xEditor,o=w.y-v.pointData.yEditor,t+v.crop.width>v.$template.width()&&(t=v.$template.width()-v.crop.width),t<0&&(t=0),o+v.crop.height>v.$template.height()&&(o=v.$template.height()-v.crop.height),o<0&&(o=0),v.crop.left=t,v.crop.top=o),v.isResizing&&(r=v.pointData.el.attr("class").substr("point point-".length),i=v.crop.left+v.crop.width,a=v.crop.top+v.crop.height,l=(n.editor.cropper&&n.editor.cropper.minWidth||0)*v.crop.cfWidth,s=(n.editor.cropper&&n.editor.cropper.minHeight||0)*v.crop.cfHeight,p=(n.editor.cropper&&n.editor.cropper.maxWidth)*v.crop.cfWidth,d=(n.editor.cropper&&n.editor.cropper.maxHeight)*v.crop.cfHeight,u=n.editor.cropper?n.editor.cropper.ratio:null,l>v.$template.width()&&(l=v.$template.width()),s>v.$template.height()&&(s=v.$template.height()),p>v.$template.width()&&(p=v.$template.width()),d>v.$template.height()&&(d=v.$template.height()),"a"!=r&&"b"!=r&&"c"!=r||c||(v.crop.top=w.y,v.crop.top<0&&(v.crop.top=0),v.crop.height=a-v.crop.top,v.crop.top>v.crop.top+v.crop.height&&(v.crop.top=a,v.crop.height=0),v.crop.height<s&&(v.crop.top=a-s,v.crop.height=s),v.crop.height>d&&(v.crop.top=a-d,v.crop.height=d),(c=u?f._assets.ratioToPx(v.crop.width,v.crop.height,u):null)&&(v.crop.width=c[0],"a"!=r&&"b"!=r||(v.crop.left=Math.max(0,v.pointData.left+(v.pointData.width-v.crop.width)/("b"==r?2:1))),v.crop.left+v.crop.width>v.$template.width()&&(h=v.$template.width()-v.crop.left,v.crop.width=h,v.crop.height=h/c[2]*c[3],v.crop.top=a-v.crop.height))),"e"!=r&&"f"!=r&&"g"!=r||c||(v.crop.height=w.y-v.crop.top,v.crop.height+v.crop.top>v.$template.height()&&(v.crop.height=v.$template.height()-v.crop.top),v.crop.height<s&&(v.crop.height=s),v.crop.height>d&&(v.crop.height=d),(c=u?f._assets.ratioToPx(v.crop.width,v.crop.height,u):null)&&(v.crop.width=c[0],"f"!=r&&"g"!=r||(v.crop.left=Math.max(0,v.pointData.left+(v.pointData.width-v.crop.width)/("f"==r?2:1))),v.crop.left+v.crop.width>v.$template.width()&&(h=v.$template.width()-v.crop.left,v.crop.width=h,v.crop.height=h/c[2]*c[3]))),"c"!=r&&"d"!=r&&"e"!=r||c||(v.crop.width=w.x-v.crop.left,v.crop.width+v.crop.left>v.$template.width()&&(v.crop.width=v.$template.width()-v.crop.left),v.crop.width<l&&(v.crop.width=l),v.crop.width>p&&(v.crop.width=p),(c=u?f._assets.ratioToPx(v.crop.width,v.crop.height,u):null)&&(v.crop.height=c[1],"c"!=r&&"d"!=r||(v.crop.top=Math.max(0,v.pointData.top+(v.pointData.height-v.crop.height)/("d"==r?2:1))),v.crop.top+v.crop.height>v.$template.height()&&(m=v.$template.height()-v.crop.top,v.crop.height=m,v.crop.width=m/c[3]*c[2]))),"a"!=r&&"g"!=r&&"h"!=r||c||(v.crop.left=w.x,v.crop.left>v.$template.width()&&(v.crop.left=v.$template.width()),v.crop.left<0&&(v.crop.left=0),v.crop.width=i-v.crop.left,v.crop.left>v.crop.left+v.crop.width&&(v.crop.left=i,v.crop.width=0),v.crop.width<l&&(v.crop.left=i-l,v.crop.width=l),v.crop.width>p&&(v.crop.left=i-p,v.crop.width=p),(c=u?f._assets.ratioToPx(v.crop.width,v.crop.height,u):null)&&(v.crop.height=c[1],"a"!=r&&"h"!=r||(v.crop.top=Math.max(0,v.pointData.top+(v.pointData.height-v.crop.height)/("h"==r?2:1))),v.crop.top+v.crop.height>v.$template.height()&&(m=v.$template.height()-v.crop.top,v.crop.height=m,v.crop.width=m/c[3]*c[2],v.crop.left=i-v.crop.width)))),v.drawPlaceHolder(v.crop)},mouseup:function(e){var t=b.popup.editor.cropper;0!=t.$editor.width()&&0!=t.$editor.height()||t.init(t.setDefaultData()),delete t.isTouchLongPress,delete t.isMoving,delete t.isResizing,t.$editor.removeClass("moving show-info"),$("body").css({"-webkit-user-select":"","-moz-user-select":"","-ms-user-select":"","user-select":""}),$(window).off("mousemove touchmove",t.mousemove),$(window).off("mouseup touchend",t.mouseup)}},b.popup.editor.cropper.init()))},resize:function(e,t,o,n,r,i){var a=t.getContext("2d"),o=!o&&n?n*e.width/e.height:o,n=!n&&o?o*e.height/e.width:n,l=e.width/e.height,s=1<=l?o:n*l,p=l<1?n:o/l;i&&s<o&&(p*=o/s,s=o),i&&p<n&&(s*=n/p,p=n);var d=Math.min(Math.ceil(Math.log(e.width/s)/Math.log(2)),12);if(t.width=s,t.height=p,e.width<t.width||e.height<t.height||d<2){i||(t.width=Math.min(e.width,t.width),t.height=Math.min(e.height,t.height));var u=e.width<t.width?(t.width-e.width)/2:0,c=e.height<t.height?(t.height-e.height)/2:0;r||(a.fillStyle="#fff",a.fillRect(0,0,t.width,t.height)),a.drawImage(e,u,c,Math.min(e.width,t.width),Math.min(e.height,t.height))}else{var f=document.createElement("canvas"),h=f.getContext("2d"),m=2;for(f.width=e.width/m,f.height=e.height/m,h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height),h.drawImage(e,0,0,f.width,f.height);2<d;){var g=m+2,v=e.width/m,w=e.height/m;v>f.width&&(v=f.width),w>f.height&&(w=f.height),h.drawImage(f,0,0,v,w,0,0,e.width/g,e.height/g),m=g,d--}v=e.width/m,w=e.height/m;v>f.width&&(v=f.width),w>f.height&&(w=f.height),a.drawImage(f,0,0,v,w,0,0,s,p),f=h=null}a=null},zoom:function(s){var e,l,p,d;s.popup&&s.popup.html&&$("html").find(s.popup.html).length&&(s.popup.zoomer||(e=s.popup.html,l=e.find(".fileuploader-popup-node"),p=l.find(".reader-node"),d=p.find("> img").attr("draggable","false").attr("ondragstart","return false;"),s.popup.zoomer={html:e.find(".fileuploader-popup-zoomer"),isActive:"image"==s.format&&s.reader.node&&n.thumbnails.popup.zoomer,scale:100,zoom:100,init:function(){var e=this;if(!e.isActive||f._assets.isIE()||f._assets.isMobile())return e.html.hide()&&p.addClass("has-node-centered");e.hide(),e.resize(),$(window).on("resize",e.resize),$(window).on("keyup keydown",e.keyPress),e.html.find("input").on("input change",e.range),p.on("mousedown touchstart",e.mousedown),l.on("mousewheel DOMMouseScroll",e.scroll)},hide:function(){var e=this;$(window).off("resize",e.resize),$(window).off("keyup keydown",e.keyPress),e.html.find("input").off("input change",e.range),p.off("mousedown",e.mousedown),l.off("mousewheel DOMMouseScroll",e.scroll)},center:function(e){var t=this,o=0,n=0,n=e?(o=t.left,n=t.top,o-=(l.width()/2-t.left)*(p.width()/e[0]-1),n-=(l.height()/2-t.top)*(p.height()/e[1]-1),p.width()<=l.width()&&(o=Math.round((l.width()-p.width())/2)),p.height()<=l.height()&&(n=Math.round((l.height()-p.height())/2)),p.width()>l.width()&&(0<o?o=0:o+p.width()<l.width()&&(o=l.width()-p.width())),p.height()>l.height()&&(0<n?n=0:n+p.height()<l.height()&&(n=l.height()-p.height())),Math.min(n,0)):(o=Math.round((l.width()-p.width())/2),Math.round((l.height()-p.height())/2));p.css({left:(t.left=o)+"px",top:(t.top=n)+"px"})},resize:function(){var e=s.popup.zoomer;p.removeAttr("style"),e.scale=e.getImageScale(),e.updateView()},range:function(e){var t=s.popup.zoomer,o=$(this),n=parseFloat(o.val());if(100<=t.scale)return e.preventDefault(),void o.val(t.scale);n<t.scale&&(e.preventDefault(),n=t.scale,o.val(n)),t.updateView(n,!0)},scroll:function(e){var t=s.popup.zoomer,o=-100;e.originalEvent&&(e.originalEvent.wheelDelta&&(o=e.originalEvent.wheelDelta/-40),e.originalEvent.deltaY&&(o=e.originalEvent.deltaY),e.originalEvent.detail&&(o=e.originalEvent.detail)),t[o<0?"zoomIn":"zoomOut"](3)},keyPress:function(e){var t=s.popup.zoomer,o=e.type;32==(e.keyCode||e.which)&&(t.hasSpacePressed="keydown"==o,t.hasSpacePressed&&t.isZoomed()?p.addClass("is-amoving"):p.removeClass("is-amoving"))},mousedown:function(e){function t(){o.pointData={x:a.x,y:a.y,xTarget:a.x-o.left,yTarget:a.y-o.top},$("body").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),p.addClass("is-moving"),$(window).on("mousemove",o.mousemove)}var o=s.popup.zoomer,r=$(e.target),i=e.originalEvent.touches&&e.originalEvent.touches[0]?"touchstart":"mousedown",a={x:"mousedown"==i?e.pageX:e.originalEvent.touches[0].pageX,y:"mousedown"==i?e.pageY:e.originalEvent.touches[0].pageY};1==e.which&&100!=o.scale&&o.zoom!=o.scale&&(o.hasSpacePressed||r[0]==d[0]||r.is(".fileuploader-cropper"))&&("mousedown"==i&&t(),"touchstart"==i&&(o.isTouchLongPress=!0,setTimeout(function(){o.isTouchLongPress&&(delete o.isTouchLongPress,t())},n.thumbnails.touchDelay?n.thumbnails.touchDelay:0)),$(window).on("mouseup touchend",o.mouseup))},mousemove:function(e){var t=s.popup.zoomer,o=e.originalEvent.touches&&e.originalEvent.touches[0]?"touchstart":"mousedown",n="mousedown"==o?e.pageX:e.originalEvent.touches[0].pageX,r="mousedown"==o?e.pageY:e.originalEvent.touches[0].pageY,i=n-t.pointData.xTarget,a=r-t.pointData.yTarget;0<a&&(a=0),a<l.height()-p.height()&&(a=l.height()-p.height()),p.height()<l.height()&&(a=l.height()/2-p.height()/2),p.width()>l.width()?(0<i&&(i=0),i<l.width()-p.width()&&(i=l.width()-p.width())):i=l.width()/2-p.width()/2,p.css({left:(t.left=i)+"px",top:(t.top=a)+"px"})},mouseup:function(e){var t=s.popup.zoomer;delete t.pointData,$("body").css({"-webkit-user-select":"","-moz-user-select":"","-ms-user-select":"","user-select":""}),p.removeClass("is-moving"),$(window).off("mousemove",t.mousemove),$(window).off("mouseup",t.mouseup)},zoomIn:function(e){var t=s.popup.zoomer,o=e||20;100<=t.zoom||(t.zoom=Math.min(100,t.zoom+o),t.updateView(t.zoom))},zoomOut:function(e){var t=s.popup.zoomer,o=e||20;t.zoom<=t.scale||(t.zoom=Math.max(t.scale,t.zoom-o),t.updateView(t.zoom))},updateView:function(e,t){var o=this,n=o.getImageSize().width/100*e,r=o.getImageSize().height/100*e,i=p.width(),a=p.height(),l=e&&e!=o.scale;if(!o.isActive)return o.center();l?p.addClass("is-movable").css({width:n+"px",height:r+"px",maxWidth:"none",maxHeight:"none"}):p.removeClass("is-movable is-amoving").removeAttr("style"),o.zoom=e||o.scale,o.center(l?[i,a,o.left,o.top]:null),o.html.find("span").html(o.zoom+"%"),t||o.html.find("input").val(o.zoom),e&&s.popup.editor&&s.popup.editor.cropper&&s.popup.editor.cropper.resize(!0)},isZoomed:function(){return this.zoom>this.scale},getImageSize:function(){return{width:d.prop("naturalWidth"),height:d.prop("naturalHeight")}},getImageScale:function(){return Math.round(100/(d.prop("naturalWidth")/d.width()))}}),s.popup.zoomer.init())},save:function(w,b,x,y,_){function e(){var t,r,e,i,a,d,u,c,h,m,g,v;w.reader.node&&(t=document.createElement("canvas"),r=t.getContext("2d"),e=[0,180],t.width=w.reader.width,t.height=w.reader.height,r.drawImage(this,0,0,w.reader.width,w.reader.height),void 0!==w.editor.rotation&&(w.editor.rotation=w.editor.rotation||0,t.width=-1<e.indexOf(w.editor.rotation)?w.reader.width:w.reader.height,t.height=-1<e.indexOf(w.editor.rotation)?w.reader.height:w.reader.width,i=w.editor.rotation*Math.PI/180,a=.5*t.width,d=.5*t.height,r.clearRect(0,0,t.width,t.height),r.translate(a,d),r.rotate(i),r.translate(.5*-w.reader.width,.5*-w.reader.height),r.drawImage(this,0,0),r.setTransform(1,0,0,1,0,0)),w.editor.crop&&(u=r.getImageData(w.editor.crop.left,w.editor.crop.top,w.editor.crop.width,w.editor.crop.height),t.width=w.editor.crop.width,t.height=w.editor.crop.height,r.putImageData(u,0,0)),c=x||w.type||"image/jpeg",h=n.editor.quality||90,m=t.toDataURL(c,h/100),g=function(e,t){var r=b?f._assets.dataURItoBlob(e,c):e;_||f.thumbnails.renderThumbnail(w,!0,t||e),y&&y(r,w,l,p,o,s),null!=n.editor.onSave&&"function"==typeof n.editor.onSave&&n.editor.onSave(r,w,l,p,o,s),f.set("listInput",null)},n.editor.maxWidth||n.editor.maxHeight?((v=new Image).src=m,v.onload=function(){var e=document.createElement("canvas");f.editor.resize(v,e,n.editor.maxWidth,n.editor.maxHeight,!0,!1),m=e.toDataURL(c,h/100),g(m,v),t=r=e=null}):(g(m),t=r=null))}var t=w.popup&&w.popup.html&&$("html").find(w.popup.html).length,r=new Image;if(t){if(!w.popup.editor.hasChanges)return;var i=w.popup.editor.scale||1;w.editor.rotation=w.popup.editor.rotation||0,w.popup.editor.cropper&&(w.editor.crop=w.popup.editor.cropper.crop,w.editor.crop.width=w.editor.crop.width/w.popup.editor.cropper.crop.cfWidth/i,w.editor.crop.left=w.editor.crop.left/w.popup.editor.cropper.crop.cfWidth/i,w.editor.crop.height=w.editor.crop.height/w.popup.editor.cropper.crop.cfHeight/i,w.editor.crop.top=w.editor.crop.top/w.popup.editor.cropper.crop.cfHeight/i)}f._assets.isMobile()?(r.onload=e,r.src=w.reader.src):w.reader.node?e.call(w.reader.node):w.reader.read(function(){e.call(w.reader.node)})}},sorter:{init:function(){p.on("mousedown touchstart",n.thumbnails._selectors.sorter,f.sorter.mousedown)},destroy:function(){p.off("mousedown touchstart",n.thumbnails._selectors.sorter,f.sorter.mousedown)},findItemAtPos:function(n){var e=f.sorter.sort,t=e.items.not(e.item.html),r=null;return t.each(function(e,t){var o=$(t);if(n.x>o.offset().left&&n.x<o.offset().left+o.outerWidth()&&n.y>o.offset().top&&n.y<o.offset().top+o.outerHeight())return r=o,!1}),r},mousedown:function(e){function t(){f.sorter.sort={el:r,item:a,items:l.find(n.thumbnails._selectors.item),x:s.x,y:s.y,xItem:s.x-i.offset().left,yItem:s.y-i.offset().top,left:i.position().left,top:i.position().top,width:i.outerWidth(),height:i.outerHeight(),placeholder:n.sorter.placeholder?$(n.sorter.placeholder):a.html.clone().addClass("fileuploader-sorter-placeholder").html("")},$("body").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),$(window).on("mousemove touchmove",f.sorter.mousemove)}var o=e.originalEvent.touches&&e.originalEvent.touches[0]?"touchstart":"mousedown",r=$(e.target),i=r.closest(n.thumbnails._selectors.item),a=f.files.find(i),s={x:"mousedown"!=o&&i.length?e.originalEvent.touches[0].pageX:e.pageX,y:"mousedown"!=o&&i.length?e.originalEvent.touches[0].pageY:e.pageY};e.preventDefault(),f.sorter.sort&&f.sorter.mouseup(),a&&(n.sorter.selectorExclude&&(r.is(n.sorter.selectorExclude)||r.closest(n.sorter.selectorExclude).length)||($(n.thumbnails._selectors.sorter).on("click drop dragend dragleave dragover dragenter dragstart touchstart touchmove touchend touchcancel",function(e){e.preventDefault()}),"mousedown"==o&&t(),"touchstart"==o&&(f.sorter.isTouchLongPress=!0,setTimeout(function(){f.sorter.isTouchLongPress&&(delete f.sorter.isTouchLongPress,t())},n.thumbnails.touchDelay?n.thumbnails.touchDelay:0)),$(window).on("mouseup touchend",f.sorter.mouseup)))},mousemove:function(e){var t=e.originalEvent.touches&&e.originalEvent.touches[0]?"touchstart":"mousedown",o=f.sorter.sort,r=o.item,i=l.find(n.thumbnails._selectors.item),a=$(n.sorter.scrollContainer||window),s={left:a.scrollLeft(),top:a.scrollTop()},p={x:"mousedown"==t?e.pageX:e.originalEvent.touches[0].pageX,y:"mousedown"==t?e.pageY:e.originalEvent.touches[0].pageY};e.preventDefault();var d=p.x-o.xItem-s.left,u=p.y-o.yItem-s.top;d+o.xItem>a.width()&&(d=a.width()-o.xItem),d<0-o.xItem&&(d=0-o.xItem),u+o.yItem>a.height()&&(u=a.height()-o.yItem),u<0-o.yItem&&(u=0-o.yItem),r.html.addClass("sorting").css({position:"fixed",left:d,top:u,width:f.sorter.sort.width,height:f.sorter.sort.height}),l.find(o.placeholder).length||r.html.after(o.placeholder),o.placeholder.css({width:f.sorter.sort.width,height:f.sorter.sort.height});var c=f.sorter.findItemAtPos({x:d+o.xItem+s.left,y:u+o.yItem+s.top});if(c){var h=o.placeholder.offset().left!=c.offset().left,m=o.placeholder.offset().top!=c.offset().top;if(f.sorter.sort.lastHover&&f.sorter.sort.lastHover.el==c[0]){if(m&&"before"==f.sorter.sort.lastHover.direction&&p.y<f.sorter.sort.lastHover.y)return;if(m&&"after"==f.sorter.sort.lastHover.direction&&p.y>f.sorter.sort.lastHover.y)return;if(h&&"before"==f.sorter.sort.lastHover.direction&&p.x<f.sorter.sort.lastHover.x)return;if(h&&"after"==f.sorter.sort.lastHover.direction&&p.x>f.sorter.sort.lastHover.x)return}var g=i.index(r.html),v=i.index(c)<g?"before":"after";c[v](o.placeholder),c[v](r.html),f.sorter.sort.lastHover={el:c[0],x:p.x,y:p.y,direction:v},a.scrollLeft(s.left),a.scrollTop(s.top)}},mouseup:function(){var e=f.sorter.sort,t=e.item;$("body").css({"-webkit-user-select":"","-moz-user-select":"","-ms-user-select":"","user-select":""}),t.html.removeClass("sorting").css({position:"",left:"",top:"",width:"",height:""}),e.placeholder.remove(),delete f.sorter.sort,$(window).off("mousemove touchmove",f.sorter.mousemove),$(window).off("mouseup touchend",f.sorter.mouseup),f.sorter.save()},save:function(e){var r,i=0,a=[],d=[],t=e?f._itFl:n.thumbnails.itemPrepend?l.children().get().reverse():l.children();$.each(t,function(e,t){var o=t.file?t:f.files.find($(t));if(o){if(o.upload&&!o.uploaded)return;f.rendered&&o.index!=i&&(f._itSl&&f._itSl.indexOf(o.id),1)&&(r=!0),o.index=i,a.push(o),d.push(o.id),i++}}),f._itSl&&f._itSl.length!=d.length&&(r=!0),f._itSl=d,r&&a.length==f._itFl.length&&(f._itFl=a),e||f.set("listInput","ignoreSorter"),r&&null!=n.sorter.onSort&&"function"==typeof n.sorter.onSort&&n.sorter.onSort(a,l,p,o,s)}},upload:{prepare:function(t,e){t.upload={url:n.upload.url,data:$.extend({},n.upload.data),formData:new FormData,type:n.upload.type||"POST",enctype:n.upload.enctype||"multipart/form-data",cache:!1,contentType:!1,processData:!1,chunk:t.upload?t.upload.chunk:null,status:null,send:function(){f.upload.send(t,!0)},cancel:function(e){f.upload.cancel(t,e)}},t.upload.formData.append(s.attr("name"),t.file,!!t.name&&t.name),(n.upload.start||e)&&f.upload.send(t,e)},send:function(a,e){if(a.upload){var t,r,i,d,u=function(e){a.html&&a.html.removeClass("upload-pending upload-loading upload-cancelled upload-failed upload-success").addClass("upload-"+(e||a.upload.status))},c=function(){var e=0;if(0<f._pfuL.length)for(-1<f._pfuL.indexOf(a)&&f._pfuL.splice(f._pfuL.indexOf(a),1);e<f._pfuL.length;){if(-1<f._itFl.indexOf(f._pfuL[e])&&f._pfuL[e].upload&&!f._pfuL[e].upload.$ajax){f.upload.send(f._pfuL[e],!0);break}f._pfuL.splice(e,1),e++}};if(n.upload.synchron&&!a.upload.chunk)if(a.upload.status="pending",a.html&&u(),e)-1<f._pfuL.indexOf(a)&&f._pfuL.splice(f._pfuL.indexOf(a),1);else if(-1==f._pfuL.indexOf(a)&&f._pfuL.push(a),1<f._pfuL.length)return;if(n.upload.chunk&&a.file.slice&&(t=1e6*n.upload.chunk,1<(r=Math.ceil(a.size/t,t))&&!a.upload.chunk&&(a.upload.chunk={name:a.name,size:a.file.size,type:a.file.type,chunkSize:t,temp_name:a.name,loaded:0,total:r,i:-1}),a.upload.chunk&&(a.upload.chunk.i++,delete a.upload.chunk.isFirst,delete a.upload.chunk.isLast,0==a.upload.chunk.i&&(a.upload.chunk.isFirst=!0),a.upload.chunk.i==a.upload.chunk.total-1&&(a.upload.chunk.isLast=!0),a.upload.chunk.i<=a.upload.chunk.total-1?(i=a.upload.chunk.i*a.upload.chunk.chunkSize,d=a.file.slice(i,i+a.upload.chunk.chunkSize),a.upload.formData=new FormData,a.upload.formData.append(s.attr("name"),d),a.upload.data._chunkedd=JSON.stringify(a.upload.chunk)):delete a.upload.chunk)),n.upload.beforeSend&&$.isFunction(n.upload.beforeSend)&&!1===n.upload.beforeSend(a,l,p,o,s))return delete a.upload.chunk,u(),void c();if(p.addClass("fileuploader-is-uploading"),a.upload.$ajax&&a.upload.$ajax.abort(),delete a.upload.$ajax,delete a.upload.send,a.upload.status="loading",a.html&&(n.thumbnails._selectors.start&&a.html.find(n.thumbnails._selectors.start).remove(),u()),a.upload.data)for(var h in a.upload.data)a.upload.data.hasOwnProperty(h)&&a.upload.formData.append(h,a.upload.data[h]);a.upload.data=a.upload.formData,a.upload.xhr=function(){var e=$.ajaxSettings.xhr(),t=a.upload.chunk&&a.upload.chunk.xhrStartedAt?a.upload.chunk.xhrStartedAt:new Date;return e.upload&&e.upload.addEventListener("progress",function(e){a.upload.$ajax&&(a.upload.$ajax.total=a.upload.chunk?a.upload.chunk.size:e.total,a.upload.$ajax.xhrStartedAt=t),f.upload.progressHandling(e,a,t)},!1),e},a.upload.complete=function(e,t){if(a.upload.chunk&&!a.upload.chunk.isLast&&"success"==t)return f.upload.send(a);c();var r=!0;$.each(f._itFl,function(e,t){t.upload&&t.upload.$ajax&&(r=!1)}),r&&(p.removeClass("fileuploader-is-uploading"),null!=n.upload.onComplete&&"function"==typeof n.upload.onComplete&&n.upload.onComplete(l,p,o,s,e,t))},a.upload.success=function(e,t,r){if(!a.upload.chunk||a.upload.chunk.isLast)delete a.upload.chunk,f.upload.progressHandling(null,a,a.upload.$ajax.xhrStartedAt,!0),a.uploaded=!0,delete a.upload,a.upload={status:"successful",resend:function(){f.upload.retry(a)}},a.html&&u(),null!=n.upload.onSuccess&&$.isFunction(n.upload.onSuccess)&&n.upload.onSuccess(e,a,l,p,o,s,t,r),f.set("listInput",null);else try{var i=JSON.parse(e);a.upload.chunk.temp_name=i.fileuploader.temp_name}catch(e){}},a.upload.error=function(e,t,r){a.upload.chunk&&(a.upload.chunk.i=Math.max(-1,a.upload.chunk.i-1)),a.uploaded=!1,a.upload.status="cancelled"==a.upload.status?a.upload.status:"failed",a.upload.retry=function(){f.upload.retry(a)},delete a.upload.$ajax,a.html&&u(),null!=n.upload.onError&&$.isFunction(n.upload.onError)&&n.upload.onError(a,l,p,o,s,e,t,r)},a.upload.$ajax=$.ajax(a.upload)}},cancel:function(e,t){e&&e.upload&&(e.upload.status="cancelled",delete e.upload.chunk,e.upload.$ajax&&e.upload.$ajax.abort(),delete e.upload.$ajax,t||f.files.remove(e))},retry:function(e){e&&e.upload&&(e.html&&n.thumbnails._selectors.retry&&e.html.find(n.thumbnails._selectors.retry).remove(),f.upload.prepare(e,!0))},progressHandling:function(e,t,r,i){var a,d,u,c,h,m,g,v,w;!e&&i&&t.upload.$ajax&&(e={total:t.upload.$ajax.total,loaded:t.upload.$ajax.total,lengthComputable:!0}),e.lengthComputable&&(a=e.loaded+(t.upload.chunk?t.upload.chunk.loaded:0),d=t.upload.chunk?t.upload.chunk.size:e.total,u=Math.round(100*a/d),c=t.upload.chunk&&t.upload.chunk.xhrStartedAt?t.upload.chunk.xhrStartedAt:r,m=(h=((new Date).getTime()-c.getTime())/1e3)?a/h:0,g=Math.max(0,d-a),v=Math.max(0,h?g/m:0),w={loaded:a,loadedInFormat:f._assets.bytesToText(a),total:d,totalInFormat:f._assets.bytesToText(d),percentage:u,secondsElapsed:h,secondsElapsedInFormat:f._assets.secondsToText(h,!0),bytesPerSecond:m,bytesPerSecondInFormat:f._assets.bytesToText(m)+"/s",remainingBytes:g,remainingBytesInFormat:f._assets.bytesToText(g),secondsRemaining:v,secondsRemainingInFormat:f._assets.secondsToText(v,!0)},t.upload.chunk&&(t.upload.chunk.isFirst&&(t.upload.chunk.xhrStartedAt=r),e.loaded!=e.total||t.upload.chunk.isLast||(t.upload.chunk.loaded+=Math.max(e.total,t.upload.chunk.total/t.upload.chunk.chunkSize))),99<w.percentage&&!i&&(w.percentage=99),n.upload.onProgress&&$.isFunction(n.upload.onProgress)&&n.upload.onProgress(w,t,l,p,o,s))}},dragDrop:{onDragEnter:function(e){clearTimeout(f.dragDrop._timer),n.dragDrop.container.addClass("fileuploader-dragging"),f.set("feedback",f._assets.textParse(n.captions.drop)),null!=n.dragDrop.onDragEnter&&$.isFunction(n.dragDrop.onDragEnter)&&n.dragDrop.onDragEnter(e,l,p,o,s)},onDragLeave:function(e){clearTimeout(f.dragDrop._timer),f.dragDrop._timer=setTimeout(function(e){return!!f.dragDrop._dragLeaveCheck(e)&&(n.dragDrop.container.removeClass("fileuploader-dragging"),f.set("feedback",null),void(null!=n.dragDrop.onDragLeave&&$.isFunction(n.dragDrop.onDragLeave)&&n.dragDrop.onDragLeave(e,l,p,o,s)))},100,e)},onDrop:function(e){clearTimeout(f.dragDrop._timer),n.dragDrop.container.removeClass("fileuploader-dragging"),f.set("feedback",null),e&&e.originalEvent&&e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.files&&e.originalEvent.dataTransfer.files.length&&(f.isUploadMode()?f.onChange(e,e.originalEvent.dataTransfer.files):s.prop("files",e.originalEvent.dataTransfer.files).trigger("change")),null!=n.dragDrop.onDrop&&$.isFunction(n.dragDrop.onDrop)&&n.dragDrop.onDrop(e,l,p,o,s)},_dragLeaveCheck:function(e){var t=$(e.currentTarget);return!(!t.is(n.dragDrop.container)&&n.dragDrop.container.find(t).length)}},clipboard:{paste:function(e){if(f._assets.isIntoView(o)&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items&&e.originalEvent.clipboardData.items.length){var t=e.originalEvent.clipboardData.items;f.clipboard.clean();for(var r,i,a=0;a<t.length;a++){-1===t[a].type.indexOf("image")&&-1===t[a].type.indexOf("text/uri-list")||(r=t[a].getAsFile(),i=1<n.clipboardPaste?n.clipboardPaste:2e3,r&&(r._name=f._assets.generateFileName(-1!=r.type.indexOf("/")?r.type.split("/")[1].toString().toLowerCase():"png","Clipboard "),f.set("feedback",f._assets.textParse(n.captions.paste,{ms:i/1e3})),f.clipboard._timer=setTimeout(function(){f.set("feedback",null),f.onChange(e,[r])},i-2)))}}},clean:function(){f.clipboard._timer&&(clearTimeout(f.clipboard._timer),delete f.clipboard._timer,f.set("feedback",null))}},files:{add:function(e,t){-1!=window.location.host.indexOf("innostudio.de")&&window.alert(atob("R2V0IHRoZSBqUXVlcnkuRmlsZXVwbG9hZGVyIG9uIGh0dHBzOi8vaW5ub3N0dWRpby5kZS9maWxldXBsb2FkZXIv"));var o,r,i=e._name||e.name,a=e.size,l=f._assets.bytesToText(a),p=e.type,d=p?p.split("/",1).toString().toLowerCase():"",u=-1!=i.indexOf(".")?i.split(".").pop().toLowerCase():"",c=i.substr(0,i.length-(-1!=i.indexOf(".")?u.length+1:u.length)),h={name:i,title:c,size:a,size2:l,type:p,format:d,extension:u,data:h=e.data||{},file:e.file||e,reader:{read:function(e,t,o){return f.files.read(r,e,t,o)}},id:"updated"==t?e.id:Date.now(),input:"choosed"==t?s:null,html:null,choosed:"choosed"==t,appended:"appended"==t||"updated"==t,uploaded:"uploaded"==t};return"updated"!=t&&window.onbeset?(f._itFl.push(h),o=f._itFl.length-1,r=f._itFl[o]):(o=f._itFl.indexOf(e),f._itFl[o]=r=h),r.remove=function(){f.files.remove(r)},n.editor&&"image"==d&&(r.editor={rotate:function(e){f.editor.rotate(r,e)},cropper:function(e){f.editor.crop(r,e)},save:function(e,t,o,n){f.editor.save(r,t,o,e,n)}}),o},read:function(d,e,t,r,i){if(f.isFileReaderSupported()&&!d.data.readerSkip){var a=new FileReader,u=window.URL||window.webkitURL,c=i&&d.data.thumbnail,h="string"!=typeof d.file,m=function(){var e=d.reader._callbacks||[];d.reader._timer&&(clearTimeout(d.reader._timer),delete d.reader._timer),delete d.reader._callbacks,delete d.reader._FileReader;for(var t=0;t<e.length;t++)$.isFunction(e[t])&&e[t](d,l,p,o,s);n.onFileRead&&$.isFunction(n.onFileRead)&&n.onFileRead(d,l,p,o,s)};if((d.reader.src||d.reader._FileReader)&&!r||(d.reader={_FileReader:a,_callbacks:[],read:d.reader.read}),d.reader.src&&!r)return e&&$.isFunction(e)?e(d,l,p,o,s):null;if(e&&d.reader._callbacks&&(d.reader._callbacks.push(e),1<d.reader._callbacks.length))return;if("astext"==d.format)a.onload=function(e){var t=document.createElement("div");d.reader.node=t,d.reader.src=e.target.result,d.reader.length=e.target.result.length,t.innerHTML=d.reader.src.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),m()},a.onerror=function(){m(),d.reader={read:d.reader.read}},h?a.readAsText(d.file):$.ajax({url:d.file,success:function(e){a.onload({target:{result:e}})},error:function(){a.onerror()}});else if("image"==d.format||c){a.onload=function(e){function t(){d.data&&d.data.readerCrossOrigin&&s.setAttribute("crossOrigin",d.data.readerCrossOrigin),s.src=e.target.result+(!d.data.readerForce&&!r||h||c||-1!=e.target.result.indexOf("data:image")?"":(-1==e.target.result.indexOf("?")?"?":"&")+"d="+Date.now()),s.onload=function(){if(d.reader.exifOrientation){var e=document.createElement("canvas"),t=e.getContext("2d"),o=s,n=d.reader.exifOrientation,r=[0,180];e.width=o.naturalWidth,e.height=o.naturalHeight,t.drawImage(o,0,0),e.width=-1<r.indexOf(n)?o.naturalWidth:o.naturalHeight,e.height=-1<r.indexOf(n)?o.naturalHeight:o.naturalWidth;var i=n*Math.PI/180,a=.5*e.width,l=.5*e.height;return t.clearRect(0,0,e.width,e.height),t.translate(a,l),t.rotate(i),t.translate(.5*-o.naturalWidth,.5*-o.naturalHeight),t.drawImage(o,0,0),t.setTransform(1,0,0,1,0,0),s.src=e.toDataURL(d.type,1),void delete d.reader.exifOrientation}d.reader.node=s,d.reader.src=s.src,d.reader.width=s.width,d.reader.height=s.height,d.reader.ratio=f._assets.pxToRatio(d.reader.width,d.reader.height),g&&u.revokeObjectURL(g),m(),c&&(d.reader={read:d.reader.read})},s.onerror=function(){m(),d.reader={read:d.reader.read}}}var s=new Image;n.thumbnails.exif&&d.choosed?f._assets.getExifOrientation(d.file,function(e){e&&(d.reader.exifOrientation=e),t()}):t()},a.onerror=function(){m(),d.reader={read:d.reader.read}},h?n.thumbnails.useObjectUrl&&n.thumbnails.canvasImage&&u?a.onload({target:{result:g=u.createObjectURL(d.file)}}):a.readAsDataURL(d.file):a.onload({target:{result:c?d.data.thumbnail:d.file}})}else if("video"==d.format||"audio"==d.format){var g,v=document.createElement(d.format),w=v.canPlayType(d.type);if(a.onerror=function(){d.reader.node=null,m(),d.reader={read:d.reader.read}},u&&""!==w){if(i&&!n.thumbnails.videoThumbnail)return d.reader.node=v,m(),void(d.reader={read:d.reader.read});g=h?u.createObjectURL(d.file):d.file,v.onloadedmetadata=function(){d.reader.node=v,d.reader.src=v.src,d.reader.duration=v.duration,d.reader.duration2=f._assets.secondsToText(v.duration),"video"==d.format&&(d.reader.width=v.videoWidth,d.reader.height=v.videoHeight,d.reader.ratio=f._assets.pxToRatio(d.reader.width,d.reader.height))},v.onerror=function(){m(),d.reader={read:d.reader.read}},v.onloadeddata=function(){var e,t;"video"==d.format&&(t=(e=document.createElement("canvas")).getContext("2d"),e.width=v.videoWidth,e.height=v.videoHeight,t.drawImage(v,0,0,e.width,e.height),d.reader.frame=f._assets.isBlankCanvas(e)?null:e.toDataURL(),e=t=null),m()},setTimeout(function(){d.data&&d.data.readerCrossOrigin&&v.setAttribute("crossOrigin",d.data.readerCrossOrigin),v.src=g+"#t=1"},100)}else a.onerror()}else a.onload=function(e){d.reader.src=e.target.result,d.reader.length=e.target.result.length,m()},a.onerror=function(e){m(),d.reader={read:d.reader.read}},h?a[t||"readAsBinaryString"](d.file):m();d.reader._timer=setTimeout(a.onerror,i?n.reader.thumbnailTimeout:n.reader.timeout)}else e&&e(d,l,p,o,s);return null},list:function(r,i,e,t){var a=[];return!n.sorter||e||t&&"ignoreSorter"==t||f.sorter.save(!0),$.each(f._itFl,function(e,t){if(t.upload&&!t.uploaded)return!0;var o=t;if((i||r)&&(o=(o.choosed?"0:/":"")+(i&&null!==f.files.getItemAttr(t,i)?f.files.getItemAttr(t,i):t["string"==typeof t.file?"file":"name"])),r&&(o={file:o},t.editor&&(t.editor.crop||t.editor.rotation)&&(o.editor={},t.editor.rotation&&(o.editor.rotation=t.editor.rotation),t.editor.crop&&(o.editor.crop=t.editor.crop)),void 0!==t.index&&(o.index=t.index),t.data&&t.data.listProps))for(var n in t.data.listProps)o[n]=t.data.listProps[n];a.push(o)}),a=n.onListInput&&$.isFunction(n.onListInput)?n.onListInput(a,f._itFl,n.listInput,l,p,o,s):a,r?JSON.stringify(a):a},check:function(r,i,e){var a=["warning",null,!1,!1];if(null!=n.limit&&e&&i.length+f._itFl.length-1>n.limit)return a[1]=f._assets.textParse(n.captions.errors.filesLimit),a[3]=!0,a;if(null!=n.maxSize&&e){var d=0;if($.each(f._itFl,function(e,t){d+=t.size}),d-=r.size,$.each(i,function(e,t){d+=t.size}),d>Math.round(1e6*n.maxSize))return a[1]=f._assets.textParse(n.captions.errors.filesSizeAll),a[3]=!0,a}if(null!=n.onFilesCheck&&$.isFunction(n.onFilesCheck)&&e&&!1===n.onFilesCheck(i,n,l,p,o,s))return a[3]=!0,a;if(null!=n.extensions&&-1==$.inArray(r.extension,n.extensions)&&!n.extensions.filter(function(e){return r.type.length&&(-1<e.indexOf(r.type)||-1<e.indexOf(r.format+"/*"))}).length)return a[1]=f._assets.textParse(n.captions.errors.filesType,r),a;if(null!=n.disallowedExtensions&&(-1<$.inArray(r.extension,n.disallowedExtensions)||n.disallowedExtensions.filter(function(e){return!r.type.length||-1<e.indexOf(r.type)||-1<e.indexOf(r.format+"/*")}).length))return a[1]=f._assets.textParse(n.captions.errors.filesType,r),a;if(null!=n.fileMaxSize&&r.size>1e6*n.fileMaxSize)return a[1]=f._assets.textParse(n.captions.errors.fileSize,r),a;if(4096==r.size&&""==r.type)return a[1]=f._assets.textParse(n.captions.errors.folderUpload,r),a;if(!n.skipFileNameCheck){d=!1;if($.each(f._itFl,function(e,t){if(t!=r&&1==t.choosed&&t.file&&t.name==r.name)return d=!0,t.file.size!=r.size||t.file.type!=r.type||r.file.lastModified&&t.file.lastModified&&t.file.lastModified!=r.file.lastModified||!(1<i.length)?(a[1]=f._assets.textParse(n.captions.errors.fileName,r),a[2]=!1):a[2]=!0,!1}),d)return a}return!0},append:function(e){if((e=$.isArray(e)?e:[e]).length){for(var t,r=0;r<e.length;r++)t=f._itFl[f.files.add(e[r],"appended")],n.thumbnails&&f.thumbnails.item(t);return f.set("feedback",null),f.set("listInput",null),n.afterSelect&&$.isFunction(n.afterSelect)&&n.afterSelect(l,p,o,s),1!=e.length||t}},update:function(e,t){var o,r;-1==f._itFl.indexOf(e)||e.upload&&e.upload.$ajax||(o=e,r=f.files.add($.extend(e,t),"updated"),(e=f._itFl[r]).popup&&e.popup.close&&e.popup.close(),n.thumbnails&&o.html&&f.thumbnails.item(e,o.html),f.set("listInput",null))},find:function(o){var n=null;return $.each(f._itFl,function(e,t){if(t.html&&t.html.is(o))return n=t,!1}),n},remove:function(r,i){var a;!i&&n.onRemove&&$.isFunction(n.onRemove)&&!1===n.onRemove(r,l,p,o,s)||(r.html&&(n.thumbnails.onItemRemove&&$.isFunction(n.thumbnails.onItemRemove)&&!i?n.thumbnails.onItemRemove(r.html,l,p,o,s):r.html.remove()),r.upload&&r.upload.$ajax&&r.upload.cancel&&r.upload.cancel(!0),r.popup&&r.popup.close&&r.popup.close(),r.reader.src&&(r.reader.node=null,URL.revokeObjectURL(r.reader.src)),r.input&&(a=!0,$.each(f._itFl,function(e,t){if(r!=t&&(r.input==t.input||i&&1<r.input.get(0).files.length))return a=!1}),a&&(f.isAddMoreMode()&&1<sl.length?(f.set("nextInput"),sl.splice(sl.indexOf(r.input),1),r.input.remove()):f.set("input",""))),-1<f._pfrL.indexOf(r)&&f._pfrL.splice(f._pfrL.indexOf(r),1),-1<f._pfuL.indexOf(r)&&f._pfuL.splice(f._pfuL.indexOf(r),1),-1<f._itFl.indexOf(r)&&f._itFl.splice(f._itFl.indexOf(r),1),r=null,0==f._itFl.length&&f.reset(),f.set("feedback",null),f.set("listInput",null))},getItemAttr:function(e,t){var o=null;return e&&(void 0!==e[t]?o=e[t]:e.data&&void 0!==e.data[t]&&(o=e.data[t])),o},clear:function(e){for(var t=0;t<f._itFl.length;){var r=f._itFl[t];e||!r.appended?(r.html&&r.html&&f._itFl[t].html.remove(),r.upload&&r.upload.$ajax&&f.upload.cancel(r),f._itFl.splice(t,1)):t++}f.set("feedback",null),f.set("listInput",null),0==f._itFl.length&&n.onEmpty&&$.isFunction(n.onEmpty)&&n.onEmpty(l,p,o,s)}},reset:function(e){e&&(f.clipboard._timer&&f.clipboard.clean(),$.each(sl,function(e,t){e<sl.length&&t.remove()}),sl=[],f.set("input","")),f._itRl=[],f._pfuL=[],f._pfrL=[],f.files.clear(e)},destroy:function(){f.reset(!0),f.bindUnbindEvents(!1),s.removeAttr("style"),p.before(s),delete s.get(0).getEvali,p.remove(),p=o=l=null},_assets:{bytesToText:function(e){if(0==e)return"0 Byte";var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},secondsToText:function(e,t){e=parseInt(Math.round(e),10);var o=Math.floor(e/3600),n=Math.floor((e-3600*o)/60),r="";return(0<o||!t)&&(r+=(o<10?"0":"")+o+(t?"h ":":")),(0<n||!t)&&(r+=(n<10&&!t?"0":"")+n+(t?"m ":":")),r+=((e=e-3600*o-60*n)<10&&!t?"0":"")+e+(t?"s":"")},pxToRatio:function(e,t){var o=function(e,t){return 0==t?e:o(t,e%t)},n=o(e,t);return[e/n,t/n]},ratioToPx:function(e,t,o){return(o=(o+"").split(":")).length<2?null:[t/o[1]*o[0],e/o[0]*o[1],o[0],o[1]]},hasAttr:function(e,t){var o=(t=t||s).attr(e);return!(!o||void 0===o)},copyAllAttributes:function(e,t){return $.each(t.get(0).attributes,function(){"required"!=this.name&&"type"!=this.name&&e.attr(this.name,this.value)}),t.get(0).getEvali&&(e.get(0).getEvali=t.get(0).getEvali),e},getAllEvents:function(e){var e=e||s,t=[];for(var o in e=e.get?e.get(0):e)0===o.indexOf("on")&&t.push(o.slice(2));return-1==t.indexOf("change")&&t.push("change"),t.join(" ")},isIntoView:function(e){var t=$(window).scrollTop(),o=t+window.innerHeight,n=e.offset().top,r=n+e.outerHeight();return t<n&&r<o},isBlankCanvas:function(e){var t=document.createElement("canvas"),o=!1;t.width=e.width,t.height=e.height;try{o=e.toDataURL()==t.toDataURL()}catch(e){}return t=null,o},generateFileName:function(e,t){function o(e){return e<10&&(e="0"+e),e}var n=new Date,e=e?"."+e:"";return(t=t||"")+n.getFullYear()+"-"+o(n.getMonth()+1)+"-"+o(n.getDate())+" "+o(n.getHours())+"-"+o(n.getMinutes())+"-"+o(n.getSeconds())+e},arrayBufferToBase64:function(e){for(var t="",o=new Uint8Array(e),n=0;n<o.byteLength;n++)t+=String.fromCharCode(o[n]);return window.btoa(t)},dataURItoBlob:function(e,t){for(var o=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(o.length),i=new Uint8Array(r),a=0;a<o.length;a++)i[a]=o.charCodeAt(a);var l=new DataView(r);return new Blob([l.buffer],{type:t||n})},getExifOrientation:function(e,p){var t=new FileReader,d={1:0,3:180,6:90,8:270};t.onload=function(e){var t=new DataView(e.target.result),o=1;if(t.byteLength&&65496==t.getUint16(0,!1))for(var n=t.byteLength,r=2;r<n&&!(t.getUint16(r+2,!1)<=8);){var i=t.getUint16(r,!1);if(r+=2,65505==i){if(1165519206!=t.getUint32(r+=2,!1))break;var a,l=18761==t.getUint16(r+=6,!1);r+=t.getUint32(r+4,l),a=t.getUint16(r,l),r+=2;for(var s=0;s<a;s++)if(274==t.getUint16(r+12*s,l)){o=t.getUint16(r+12*s+8,l),n=0;break}}else{if(65280!=(65280&i))break;r+=t.getUint16(r,!1)}}p&&p(d[o]||0)},t.onerror=function(){p&&p("")},t.readAsArrayBuffer(e)},textParse:function(text,opts,noOptions){switch(opts=noOptions?opts||{}:$.extend({},{limit:n.limit,maxSize:n.maxSize,fileMaxSize:n.fileMaxSize,extensions:n.extensions?n.extensions.join(", "):null,captions:n.captions},opts),typeof text){case"string":text=text.replace(/\$\{(.*?)\}/g,function(match,a){var a=a.replace(/ /g,""),r=void 0!==opts[a]&&null!=opts[a]?opts[a]:"";if(-1<["reader.node"].indexOf(a))return match;if(-1<a.indexOf(".")||-1<a.indexOf("[]")){var x=a.substr(0,-1<a.indexOf(".")?a.indexOf("."):-1<a.indexOf("[")?a.indexOf("["):a.length),y=a.substring(x.length);if(opts[x])try{r=eval('opts["'+x+'"]'+y)}catch(e){r=""}}return r=$.isFunction(r)?f._assets.textParse(r):r,r||""});break;case"function":text=f._assets.textParse(text(opts,l,p,o,s,f._assets.textParse),opts,noOptions)}return opts=null,text},textToColor:function(e){if(!e||0==e.length)return!1;for(var t=0,o=0;t<e.length;o=e.charCodeAt(t++)+((o<<5)-o));for(var t=0,n="#";t<3;n+=("00"+(o>>2*t++&255).toString(16)).slice(-2));return n},isBrightColor:function(e){var t,o,n;return 194<((n=(t=e)&&t.constructor==Array&&3==t.length?t:(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]:(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(o[1]),2.55*parseFloat(o[2]),2.55*parseFloat(o[3])]:(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]:(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]:"undefined"!=typeof colors?colors[$.trim(t).toLowerCase()]:null)?.2126*n[0]+.7152*n[1]+.0722*n[2]:null)},isIE:function(){return-1<navigator.userAgent.indexOf("MSIE ")||-1<navigator.userAgent.indexOf("Trident/")||-1<navigator.userAgent.indexOf("Edge")},isMobile:function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}},isSupported:function(){return s&&s.get(0).files},isFileReaderSupported:function(){return window.File&&window.FileList&&window.FileReader},isDefaultMode:function(){return!(n.upload||n.addMore&&1!=n.limit)},isAddMoreMode:function(){return!n.upload&&n.addMore&&1!=n.limit},isUploadMode:function(){return n.upload},_itFl:[],_pfuL:[],_pfrL:[],disabled:!1,locked:!1,rendered:!1};return n.enableApi&&(s.get(0).getEvali={open:function(){s.trigger("click")},getOptions:function(){return n},getParentEl:function(){return p},getInputEl:function(){return s},getNewInputEl:function(){return o},getListEl:function(){return l},getListInputEl:function(){return n.listInput},getFiles:function(){return f._itFl},getChoosedFiles:function(){return f._itFl.filter(function(e){return e.choosed})},getAppendedFiles:function(){return f._itFl.filter(function(e){return e.appended})},getUploadedFiles:function(){return f._itFl.filter(function(e){return e.uploaded})},getFileList:function(e,t){return f.files.list(e,t,!0)},updateFileList:function(){return f.set("listInput",null),!0},setOption:function(e,t){return n[e]=t,!0},findFile:function(e){return f.files.find(e)},add:function(e,t,o){return!!f.isUploadMode()&&((r=e instanceof Blob?e:(n=/data:[a-z]+\/[a-z]+\;base64\,/.test(e)?e:"data:"+t+";base64,"+btoa(e),f._assets.dataURItoBlob(n,t)))._name=o||f._assets.generateFileName(-1!=r.type.indexOf("/")?r.type.split("/")[1].toString().toLowerCase():"File "),f.onChange(null,[r]),!0);var n,r},append:function(e){return f.files.append(e)},update:function(e,t){return f.files.update(e,t)},remove:function(e){return e=e.jquery?f.files.find(e):e,-1<f._itFl.indexOf(e)&&(f.files.remove(e),!0)},uploadStart:function(){var e=this.getChoosedFiles()||[];if(f.isUploadMode()&&0<e.length&&!e[0].uploaded)for(var t=0;t<e.length;t++)f.upload.send(e[t])},reset:function(){return f.reset(!0),!0},disable:function(e){return f.set("disabled",!0),e&&(f.locked=!0),!0},enable:function(){return f.set("disabled",!1),!(f.locked=!1)},destroy:function(){return f.destroy(),!0},isEmpty:function(){return 0==f._itFl.length},isDisabled:function(){return f.disabled},isRendered:function(){return f.rendered},assets:f._assets,getPluginMode:function(){return f.isDefaultMode()?"default":f.isAddMoreMode()?"addMore":f.isUploadMode()?"upload":void 0}}),f.init(),this})},$.getEvali={getInstance:function(e){return(e.prop?e:$(e)).get(0).getEvali}},$.fn.getEvali.defaults={limit:null,maxSize:null,fileMaxSize:null,extensions:null,disallowedExtensions:null,changeInput:!0,inputNameBrackets:!0,theme:"default",thumbnails:{box:'<div class="fileuploader-items"><ul class="fileuploader-items-list"></ul></div>',boxAppendTo:null,item:'<li class="fileuploader-item file-has-popup"><div class="columns"><div class="column-thumbnail">${image}<span class="fileuploader-action-popup"></span></div><div class="column-title"><div title="${name}">${name}</div><span>${size2}</span></div><div class="column-actions"><a class="fileuploader-action fileuploader-action-remove" title="${captions.remove}"><i></i></a></div></div><div class="progress-bar2">${progressBar}<span></span></div></li>',item2:'<li class="fileuploader-item file-has-popup"><div class="columns"><div class="column-thumbnail">${image}<span class="fileuploader-action-popup"></span></div><div class="column-title"><a href="${file}" target="_blank"><div title="${name}">${name}</div><span>${size2}</span></a></div><div class="column-actions"><a href="${file}" class="fileuploader-action fileuploader-action-download" title="${captions.download}" download><i></i></a><a class="fileuploader-action fileuploader-action-remove" title="${captions.remove}"><i></i></a></div></div></li>',popup:{container:"body",loop:!0,arrows:!0,zoomer:!0,template:function(e){return'<div class="fileuploader-popup-preview"><a class="fileuploader-popup-move" data-action="prev"></a><div class="fileuploader-popup-node ${format}">${reader.node}</div><div class="fileuploader-popup-content"><div class="fileuploader-popup-footer"><ul class="fileuploader-popup-tools">'+("image"==e.format&&e.editor?(e.editor.cropper?'<li><a data-action="crop"><i></i> ${captions.crop}</a></li>':"")+(e.editor.rotate?'<li><a data-action="rotate-cw"><i></i> ${captions.rotate}</a></li>':""):"")+("image"==e.format?'<li class="fileuploader-popup-zoomer"><a data-action="zoom-out">&minus;</a><input type="range" min="0" max="100"><a data-action="zoom-in">&plus;</a><span></span> </li>':"")+'<li><a data-action="remove"><i></i> ${captions.remove}</a></li></ul></div><div class="fileuploader-popup-header"><ul class="fileuploader-popup-meta"><li><span>${captions.name}:</span><h5>${name}</h5></li><li><span>${captions.type}:</span><h5>${extension.toUpperCase()}</h5></li><li><span>${captions.size}:</span><h5>${size2}</h5></li>'+(e.reader&&e.reader.width?"<li><span>${captions.dimensions}:</span><h5>${reader.width}x${reader.height}px</h5></li>":"")+(e.reader&&e.reader.duration?"<li><span>${captions.duration}:</span><h5>${reader.duration2}</h5></li>":"")+'</ul><div class="fileuploader-popup-info"></div><ul class="fileuploader-popup-buttons"><li><a class="fileuploader-popup-button" data-action="cancel">${captions.cancel}</a></li><li><a class="fileuploader-popup-button button-success" data-action="save">${captions.confirm}</a></li></ul></div></div><a class="fileuploader-popup-move" data-action="next"></a></div>'},onShow:function(t){t.popup.html.on("click",'[data-action="remove"]',function(e){t.popup.close(),t.remove()}).on("click",'[data-action="cancel"]',function(e){t.popup.close()}).on("click",'[data-action="save"]',function(e){t.editor&&t.editor.save(),t.popup.close&&t.popup.close()})},onHide:null},itemPrepend:!1,removeConfirmation:!0,startImageRenderer:!0,synchronImages:!0,useObjectUrl:!1,canvasImage:!0,videoThumbnail:!0,exif:!0,touchDelay:0,_selectors:{list:".fileuploader-items-list",item:".fileuploader-item",start:".fileuploader-action-start",retry:".fileuploader-action-retry",remove:".fileuploader-action-remove",sorter:".fileuploader-action-sort",rotate:".fileuploader-action-rotate",popup:".fileuploader-popup-preview",popup_open:".fileuploader-action-popup"},beforeShow:null,onItemShow:null,onItemRemove:function(e){e.children().animate({opacity:0},200,function(){setTimeout(function(){e.slideUp(200,function(){e.remove()})},100)})},onImageLoaded:null},editor:!1,sorter:!1,reader:{thumbnailTimeout:5e3,timeout:12e3},files:null,upload:null,dragDrop:!0,addMore:!1,skipFileNameCheck:!1,clipboardPaste:!0,listInput:!0,enableApi:!1,listeners:null,onSupportError:null,beforeRender:null,afterRender:null,beforeSelect:null,onFilesCheck:null,onFileRead:null,onSelect:null,afterSelect:null,onListInput:null,onRemove:null,onEmpty:null,dialogs:{alert:function(e){return alert(e)},confirm:function(e,t){confirm(e)&&t()}},captions:{button:function(e){return"Browse "+(1==e.limit?"file":"files")},feedback:function(e){return"Choose "+(1==e.limit?"file":"files")+" to upload"},feedback2:function(e){return e.length+" "+(1<e.length?" files were":" file was")+" chosen"},confirm:"Xác nhận",cancel:"Hủy bỏ",name:"Tên",type:"Kiểu",size:"Dung lượng",dimensions:"Kích thước",duration:"Thời lượng",crop:"Cắt",rotate:"Xoay",sort:"Sắp xếp",download:"Tải về",remove:"Xóa",drop:"Thả các tập tin ở đây để tải lên",paste:'<div class="fileuploader-pending-loader"></div> Dán một tập tin, bấm vào đây để hủy bỏ.',removeConfirmation:"Bạn có chắc chắn muốn xóa tệp này?",errors:{filesLimit:"Chỉ được phép tải lên ${limit} tệp.",filesType:"Chỉ các tệp ${extensions} mới được phép tải lên.",fileSize:"${name} quá lớn! Vui lòng chọn một tệp lên tới ${fileMaxSize}MB.",filesSizeAll:"Tập tin bạn chọn quá lớn! Vui lòng tải lên các tệp lên đến ${maxSize} MB.",fileName:"Tệp có tên ${name} đã được chọn.",folderUpload:"Bạn không được phép tải lên các thư mục."}}}}(jQuery),$.fn[atob("ZmlsZXVwbG9hZGVy")]=$.fn.getEvali,$[atob("ZmlsZXVwbG9hZGVy")]=$.getEvali,function(){function t(){a&&function(t){function o(e){"readystatechange"==e.type&&"complete"!=p.readyState||(("load"==e.type?s:p)[a](l+e.type,o,!1),!n&&(n=!0)&&t.call(s,e.type||e))}var e=p.addEventListener,n=!1,r=!0,i=e?"addEventListener":"attachEvent",a=e?"removeEventListener":"detachEvent",l=e?"":"on";if("complete"==p.readyState)t.call(s,"lazy");else{if(p.createEventObject&&d.doScroll){try{r=!s.frameElement}catch(e){}r&&function t(){try{d.doScroll("left")}catch(e){return void s.setTimeout(t,50)}o("poll")}()}p[i](l+"DOMContentLoaded",o,!1),p[i](l+"readystatechange",o,!1),s[i](l+"load",o,!1)}}(function(){var t=c.length;w(t?function(){for(var e=0;e<t;++e)!function(e){s.setTimeout(function(){s.exports[c[e]].apply(s,arguments)},0)}(e)}:void 0)})}for(var s=window,p=document,d=p.documentElement,n=p.head||p.getElementsByTagName("head")[0]||d,e="",o=(g=p.getElementsByTagName("script")).length;0<=--o;){var r=g[o],i=r.src.match(/^[^?#]*\/run_prettify\.js(\?[^#]*)?(?:#.*)?$/);if(i){e=i[1]||"",r.parentNode.removeChild(r);break}}var a=!0,l=[],u=[],c=[];for(e.replace(/[?&]([^&=]+)=([^&]+)/g,function(e,t,o){o=decodeURIComponent(o),"autorun"==(t=decodeURIComponent(t))?a=!/^[0fn]/i.test(o):"lang"==t?l.push(o):"skin"==t?u.push(o):"callback"==t&&c.push(o)}),o=0,e=l.length;o<e;++o)!function(){var e=p.createElement("script");e.onload=e.onerror=e.onreadystatechange=function(){!e||e.readyState&&!/loaded|complete/.test(e.readyState)||(e.onerror=e.onload=e.onreadystatechange=null,--m||s.setTimeout(t,0),e.parentNode&&e.parentNode.removeChild(e),e=null)},e.type="text/javascript",e.src="https://cdn.rawgit.com/google/code-prettify/master/loader/lang-"+encodeURIComponent(l[o])+".js",n.insertBefore(e,n.firstChild)}(l[o]);for(var f,h,m=l.length,g=[],o=0,e=u.length;o<e;++o)g.push("https://cdn.rawgit.com/google/code-prettify/master/loader/skins/"+encodeURIComponent(u[o])+".css");g.push("https://cdn.rawgit.com/google/code-prettify/master/loader/prettify.css"),h=(f=g).length,function e(t){var o;t!==h&&((o=p.createElement("link")).rel="stylesheet",o.type="text/css",t+1<h&&(o.error=o.onerror=function(){e(t+1)}),o.href=f[t],n.appendChild(o))}(0);var v,w=("undefined"!=typeof window&&(window.PR_SHOULD_USE_CONTINUATION=!0),function(){function p(e){function l(e){var t=e.charCodeAt(0);if(92!==t)return t;var o=e.charAt(1);return(t=a[o])?t:"0"<=o&&o<="7"?parseInt(e.substring(1),8):"u"===o||"x"===o?parseInt(e.substring(2),16):e.charCodeAt(1)}function s(e){return e<32?(e<16?"\\x0":"\\x")+e.toString(16):"\\"===(e=String.fromCharCode(e))||"-"===e||"]"===e||"^"===e?"\\"+e:e}function t(e){for(var t=e.source.match(RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),o=t.length,n=[],r=0,i=0;r<o;++r){var a=t[r];"("===a?++i:"\\"===a.charAt(0)&&(a=+a.substring(1))&&(a<=i?n[a]=-1:t[r]=s(a))}for(r=1;r<n.length;++r)-1===n[r]&&(n[r]=++p);for(i=r=0;r<o;++r)"("===(a=t[r])?n[++i]||(t[r]="(?:"):"\\"===a.charAt(0)&&(a=+a.substring(1))&&a<=i&&(t[r]="\\"+n[a]);for(r=0;r<o;++r)"^"===t[r]&&"^"!==t[r+1]&&(t[r]="");if(e.ignoreCase&&d)for(r=0;r<o;++r)e=(a=t[r]).charAt(0),2<=a.length&&"["===e?t[r]=function(e){var t=e.substring(1,e.length-1).match(RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g"));e=[];var o=["["];(n="^"===t[0])&&o.push("^");for(var n=n?1:0,r=t.length;n<r;++n){var i,a=t[n];/\\[bdsw]/i.test(a)?o.push(a):(a=l(a),n+2<r&&"-"===t[n+1]?(i=l(t[n+2]),n+=2):i=a,e.push([a,i]),i<65||122<a||(i<65||90<a||e.push([32|Math.max(65,a),32|Math.min(i,90)]),i<97||122<a||e.push([-33&Math.max(97,a),-33&Math.min(i,122)])))}for(e.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]}),t=[],r=[],n=0;n<e.length;++n)(a=e[n])[0]<=r[1]+1?r[1]=Math.max(r[1],a[1]):t.push(r=a);for(n=0;n<t.length;++n)a=t[n],o.push(s(a[0])),a[1]>a[0]&&(a[1]+1>a[0]&&o.push("-"),o.push(s(a[1])));return o.push("]"),o.join("")}(a):"\\"!==e&&(t[r]=a.replace(/[a-zA-Z]/g,function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(-33&e,32|e)+"]"}));return t.join("")}for(var p=0,d=!1,o=!1,n=0,r=e.length;n<r;++n){var i=e[n];if(i.ignoreCase)o=!0;else if(/[a-z]/i.test(i.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){o=!(d=!0);break}}for(var a={b:8,t:9,n:10,v:11,f:12,r:13},u=[],n=0,r=e.length;n<r;++n){if((i=e[n]).global||i.multiline)throw Error(""+i);u.push("(?:"+t(i)+")")}return new RegExp(u.join("|"),o?"gi":"g")}function S(e,n){var r=/(?:^|\s)nocode(?:\s|$)/,i=[],a=0,l=[],s=0;return function e(t){var o=t.nodeType;if(1==o){if(!r.test(t.className)){for(o=t.firstChild;o;o=o.nextSibling)e(o);"br"!==(o=t.nodeName.toLowerCase())&&"li"!==o||(i[s]="\n",l[s<<1]=a++,l[s++<<1|1]=t)}}else 3!=o&&4!=o||(o=t.nodeValue).length&&(o=n?o.replace(/\r\n?/g,"\n"):o.replace(/[ \t\r\n]+/g," "),i[s]=o,l[s<<1]=a,a+=o.length,l[s++<<1|1]=t)}(e),{a:i.join("").replace(/\n$/,""),c:l}}function y(e,t,o,n,r){o&&(n(e={h:e,l:1,j:null,m:null,a:o,c:null,i:t,g:null}),r.push.apply(r,e.g))}function i(s,v){var w,b={};!function(){for(var e=s.concat(v),t=[],o={},n=0,r=e.length;n<r;++n){var i=e[n],a=i[3];if(a)for(var l=a.length;0<=--l;)b[a.charAt(l)]=i;a=""+(i=i[1]),o.hasOwnProperty(a)||(t.push(i),o[a]=null)}t.push(/[\0-\uffff]/),w=p(t)}();var x=v.length;return function e(t){for(var o=t.i,n=t.h,r=[o,"pln"],i=0,a=t.a.match(w)||[],l={},s=0,p=a.length;s<p;++s){var d,u,c,f=a[s],h=l[f],m=void 0;if("string"==typeof h)d=!1;else{var g=b[f.charAt(0)];if(g)m=f.match(g[1]),h=g[0];else{for(d=0;d<x;++d)if(g=v[d],m=f.match(g[1])){h=g[0];break}m||(h="pln")}!(d=5<=h.length&&"lang-"===h.substring(0,5))||m&&"string"==typeof m[1]||(d=!1,h="src"),d||(l[f]=h)}g=i,i+=f.length,d?(d=m[1],c=(u=f.indexOf(d))+d.length,m[2]&&(u=(c=f.length-m[2].length)-d.length),h=h.substring(5),y(n,o+g,f.substring(0,u),e,r),y(n,o+g+u,d,I(h,d),r),y(n,o+g+c,f.substring(c),e,r)):r.push(o+g,h)}t.g=r}}function e(e){var t=[],o=[];e.tripleQuotedStrings?t.push(["str",/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""]):e.multiLineStrings?t.push(["str",/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]):t.push(["str",/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]),e.verbatimStrings&&o.push(["str",/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var n,r=e.hashComments;return r&&(e.cStyleComments?(1<r?t.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]):t.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),o.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,null])):t.push(["com",/^#[^\r\n]*/,null,"#"])),e.cStyleComments&&(o.push(["com",/^\/\/[^\r\n]*/,null]),o.push(["com",/^\/\*[\s\S]*?(?:\*\/|$)/,null])),(r=e.regexLiterals)&&(n=(r=1<r?"":"\n\r")?".":"[\\S\\s]",o.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*(/(?=[^/*"+r+"])(?:[^/\\x5B\\x5C"+r+"]|\\x5C"+n+"|\\x5B(?:[^\\x5C\\x5D"+r+"]|\\x5C"+n+")*(?:\\x5D|$))+/)")])),(r=e.types)&&o.push(["typ",r]),(r=(""+e.keywords).replace(/^ | $/g,"")).length&&o.push(["kwd",new RegExp("^(?:"+r.replace(/[\s,]+/g,"|")+")\\b"),null]),t.push(["pln",/^\s+/,null," \r\n\t "]),r="^.[^\\s\\w.$@'\"`/\\\\]*",e.regexLiterals&&(r+="(?!s*/)"),o.push(["lit",/^@[a-z_$][a-z_$@0-9]*/i,null],["typ",/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],["pln",/^[a-z_$][a-z_$@0-9]*/i,null],["lit",/^(?:0x[a-f0-9]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+\-]?\d+)?)[a-z]*/i,null,"0123456789"],["pln",/^\\[\s\S]?/,null],["pun",new RegExp(r),null]),i(t,o)}function $(e,t,i){function a(e){for(;!e.nextSibling;)if(!(e=e.parentNode))return;e=function e(t,o){var n=o?t.cloneNode(!1):t;if(r=t.parentNode){var r=e(r,1),i=t.nextSibling;r.appendChild(n);for(var a=i;a;a=i)i=a.nextSibling,r.appendChild(a)}return n}(e.nextSibling,0);for(var t;(t=e.parentNode)&&1===t.nodeType;)e=t;n.push(e)}for(var l=/(?:^|\s)nocode(?:\s|$)/,s=/\r\n?|\n/,p=e.ownerDocument,o=p.createElement("li");e.firstChild;)o.appendChild(e.firstChild);for(var n=[o],r=0;r<n.length;++r)!function e(t){var o,n,r=t.nodeType;if(1!=r||l.test(t.className))3!=r&&4!=r||!i||(n=(o=t.nodeValue).match(s))&&(r=o.substring(0,n.index),t.nodeValue=r,(o=o.substring(n.index+n[0].length))&&t.parentNode.insertBefore(p.createTextNode(o),t.nextSibling),a(t),r||t.parentNode.removeChild(t));else if("br"===t.nodeName.toLowerCase())a(t),t.parentNode&&t.parentNode.removeChild(t);else for(t=t.firstChild;t;t=t.nextSibling)e(t)}(n[r]);t===(0|t)&&n[0].setAttribute("value",t);var d=p.createElement("ol");d.className="linenums",t=Math.max(0,t-1|0)||0;for(var r=0,u=n.length;r<u;++r)(o=n[r]).className="L"+(r+t)%10,o.firstChild||o.appendChild(p.createTextNode(" ")),d.appendChild(o);e.appendChild(d)}function t(e,t){for(var o=t.length;0<=--o;){var n=t[o];f.hasOwnProperty(n)?E.console&&console.warn("cannot override language handler %s",n):f[n]=e}}function I(e,t){return e&&f.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),f[e]}function _(e){var t=e.j;try{var o=(s=S(e.h,e.l)).a;e.a=o,e.c=s.c,e.i=0,I(t,o)(e);var n,r,i=(i=/\bMSIE\s(\d+)/.exec(navigator.userAgent))&&+i[1]<=8,t=/\n/g,a=e.a,l=a.length,s=0,p=e.c,d=p.length,o=0,u=e.g,c=u.length,f=0;for(u[c]=l,r=n=0;r<c;)u[r]!==u[r+2]?(u[n++]=u[r++],u[n++]=u[r++]):r+=2;for(c=n,r=n=0;r<c;){for(var h=u[r],m=u[r+1],g=r+2;g+2<=c&&u[g+1]===m;)g+=2;u[n++]=h,u[n++]=m,r=g}u.length=n;var v=e.h;e="",v&&(e=v.style.display,v.style.display="none");try{for(;o<d;){var w,b,x,y,$=p[o+2]||l,_=u[f+2]||l,g=Math.min($,_),k=p[o+1];1!==k.nodeType&&(w=a.substring(s,g))&&(i&&(w=w.replace(t,"\r")),k.nodeValue=w,(x=(b=k.ownerDocument).createElement("span")).className=u[f+1],(y=k.parentNode).replaceChild(x,k),x.appendChild(k),s<$&&(p[o+1]=k=b.createTextNode(a.substring(g,$)),y.insertBefore(k,x.nextSibling))),$<=(s=g)&&(o+=2),_<=s&&(f+=2)}}finally{v&&(v.style.display=e)}}catch(e){E.console&&console.log(e&&e.stack||e)}}var E="undefined"!=typeof window?window:{},o=["break,continue,do,else,for,if,return,while"],n=[[o,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,restrict,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],r=[n,"alignas,alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,noexcept,noreturn,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],a=[n,"abstract,assert,boolean,byte,extends,finally,final,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],l=[n,"abstract,add,alias,as,ascending,async,await,base,bool,by,byte,checked,decimal,delegate,descending,dynamic,event,finally,fixed,foreach,from,get,global,group,implicit,in,interface,internal,into,is,join,let,lock,null,object,out,override,orderby,params,partial,readonly,ref,remove,sbyte,sealed,select,set,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,value,var,virtual,where,yield"],s=[o,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],d=[o,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],u=/^(DIR|FILE|array|vector|(de|priority_)?queue|(forward_)?list|stack|(const_)?(reverse_)?iterator|(unordered_)?(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,k=/\S/,c=e({keywords:[r,l,a,n=[n,"abstract,async,await,constructor,debugger,enum,eval,export,from,function,get,import,implements,instanceof,interface,let,null,of,set,undefined,var,with,yield,Infinity,NaN"],"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",s,d,o=[o,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"]],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),f={};t(c,["default-code"]),t(i([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),"default-markup htm html mxml xhtml xml xsl".split(" ")),t(i([["pln",/^[\s]+/,null," \t\r\n"],["atv",/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],["pun",/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]),t(i([],[["atv",/^[\s\S]+/]]),["uq.val"]),t(e({keywords:r,hashComments:!0,cStyleComments:!0,types:u}),"c cc cpp cxx cyc m".split(" ")),t(e({keywords:"null,true,false"}),["json"]),t(e({keywords:l,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:u}),["cs"]),t(e({keywords:a,cStyleComments:!0}),["java"]),t(e({keywords:o,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),t(e({keywords:s,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),t(e({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),t(e({keywords:d,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),t(e({keywords:n,cStyleComments:!0,regexLiterals:!0}),["javascript","js","ts","typescript"]),t(e({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),t(i([],[["str",/^[\s\S]+/]]),["regex"]);var h=E.PR={createSimpleLexer:i,registerLangHandler:t,sourceDecorator:e,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:function(e,t,o){o=o||!1,t=t||null;var n=document.createElement("div");return n.innerHTML="<pre>"+e+"</pre>",n=n.firstChild,o&&$(n,o,!0),_({j:t,m:o,h:n,l:1,a:null,i:null,c:null,g:null}),n.innerHTML},prettyPrint:v=function(p,e){for(var d=(t=e||document.body).ownerDocument||document,t=[t.getElementsByTagName("pre"),t.getElementsByTagName("code"),t.getElementsByTagName("xmp")],u=[],o=0;o<t.length;++o)for(var n=0,r=t[o].length;n<r;++n)u.push(t[o][n]);var t=null,c=Date;c.now||(c={now:function(){return+new Date}});var f=0,h=/\blang(?:uage)?-([\w.]+)(?!\S)/,m=/\bprettyprint\b/,g=/\bprettyprinted\b/,v=/pre|xmp/i,w=/^code$/i,b=/^(?:pre|code|xmp)$/i,x={};!function e(){for(var t=E.PR_SHOULD_USE_CONTINUATION?c.now()+250:1/0;f<u.length&&c.now()<t;f++){for(var o,n,r,i,a=u[f],l=x,s=a;(s=s.previousSibling)&&((i=(7===(o=s.nodeType)||8===o)&&s.nodeValue)?/^\??prettify\b/.test(i):3===o&&!/\S/.test(s.nodeValue));)if(i){l={},i.replace(/\b(\w+)=([\w:.%+-]+)/g,function(e,t,o){l[t]=o});break}if(s=a.className,(l!==x||m.test(s))&&!g.test(s)){for(o=!1,i=a.parentNode;i;i=i.parentNode)if(b.test(i.tagName)&&i.className&&m.test(i.className)){o=!0;break}o||(a.className+=" prettyprinted",(o=l.lang)||(!(o=s.match(h))&&(n=function(e){for(var t=void 0,o=e.firstChild;o;o=o.nextSibling)var n=o.nodeType,t=1===n?t?e:o:3===n&&k.test(o.nodeValue)?e:t;return t===e?void 0:t}(a))&&w.test(n.tagName)&&(o=n.className.match(h)),o=o&&o[1]),i=v.test(a.tagName)?1:(i=a.currentStyle,r=d.defaultView,(i=i?i.whiteSpace:r&&r.getComputedStyle?r.getComputedStyle(a,null).getPropertyValue("white-space"):0)&&"pre"===i.substring(0,3)),(r="true"===(r=l.linenums)||+r)||(r=!!(r=s.match(/\blinenums\b(?::(\d+))?/))&&(!r[1]||!r[1].length||+r[1])),r&&$(a,r,i),_({j:o,h:a,m:r,l:i,a:null,i:null,c:null,g:null}))}}f<u.length?E.setTimeout(e,250):"function"==typeof p&&p()}()}};"function"==typeof(r=E.define)&&r.amd&&r("google-code-prettify",[],function(){return h})}(),v);m||s.setTimeout(t,0)}();